(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"00b4":function(e,t,n){"use strict";n("ac1f");var s=n("23e7"),o=n("da84"),r=n("c65b"),i=n("e330"),a=n("1626"),l=n("861d"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),f=o.Error,d=i(/./.test);s({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=this.exec;if(!a(t))return d(this,e);var n=r(t,this,e);if(null!==n&&!l(n))throw new f("RegExp exec method returned something other than an Object or null");return!!n}})},"107c":function(e,t,n){var s=n("d039"),o=n("da84"),r=o.RegExp;e.exports=s((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},8319:function(e,t,n){"use strict";n("b24a")},9263:function(e,t,n){"use strict";var s=n("c65b"),o=n("e330"),r=n("577e"),i=n("ad6d"),a=n("9f7f"),l=n("5692"),c=n("7c73"),f=n("69f3").get,d=n("fce3"),u=n("107c"),g=l("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,m=p,v=o("".charAt),h=o("".indexOf),x=o("".replace),b=o("".slice),R=function(){var e=/a/,t=/b*/g;return s(p,e,"a"),s(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=a.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],_=R||y||w||d||u;_&&(m=function(e){var t,n,o,a,l,d,u,_=this,k=f(_),$=r(e),I=k.raw;if(I)return I.lastIndex=_.lastIndex,t=s(m,I,$),_.lastIndex=I.lastIndex,t;var L=k.groups,T=w&&_.sticky,C=s(i,_),E=_.source,F=0,O=$;if(T&&(C=x(C,"y",""),-1===h(C,"g")&&(C+="g"),O=b($,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==v($,_.lastIndex-1))&&(E="(?: "+E+")",O=" "+O,F++),n=new RegExp("^(?:"+E+")",C)),y&&(n=new RegExp("^"+E+"$(?!\\s)",C)),R&&(o=_.lastIndex),a=s(p,T?n:_,O),T?a?(a.input=b(a.input,F),a[0]=b(a[0],F),a.index=_.lastIndex,_.lastIndex+=a[0].length):_.lastIndex=0:R&&a&&(_.lastIndex=_.global?a.index+a[0].length:o),y&&a&&a.length>1&&s(g,a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a&&L)for(a.groups=d=c(null),l=0;l<L.length;l++)u=L[l],d[u[0]]=a[u[1]];return a}),e.exports=m},"9d64":function(e,t,n){e.exports=n.p+"app/img/logo.png"},"9f7f":function(e,t,n){var s=n("d039"),o=n("da84"),r=o.RegExp,i=s((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=i||s((function(){return!r("a","y").sticky})),l=i||s((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:l,MISSED_STICKY:a,UNSUPPORTED_Y:i}},a03f:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["登錄"===e.loginType?n("navBar",{attrs:{navTitle:e.loginType,showRight:"",showLeft:!0}}):n("navBar",{attrs:{navTitle:e.loginType,leftBack:!1},on:{fnBtnLeft:e.fnBtnLeft}}),n("div",{staticClass:"full-width"},[n("van-image",{staticClass:"login-header",attrs:{src:e.logoUrl}}),n("van-form",{directives:[{name:"show",rawName:"v-show",value:"登錄"===e.loginType,expression:"loginType === '登錄' "}],ref:"refFormLogin",staticClass:"public-form"},[n("div",[n("div",[n("i",{staticClass:"iconfont icon-shouji color-theme"}),n("span",[e._v("手機號")])]),n("van-field",{attrs:{clearable:"",placeholder:"請輸入手機號碼",rules:[{required:!0,message:"請輸入手機號碼"}]},model:{value:e.formLogin.tel,callback:function(t){e.$set(e.formLogin,"tel","string"===typeof t?t.trim():t)},expression:"formLogin.tel"}})],1),n("div",[n("div",[n("i",{staticClass:"iconfont icon-mima1 color-theme"}),n("span",[e._v("密碼")])]),n("van-field",{attrs:{clearable:"",type:"password",placeholder:"請輸入密碼",rules:[{required:!0,message:"請輸入密碼"}]},model:{value:e.formLogin.password,callback:function(t){e.$set(e.formLogin,"password","string"===typeof t?t.trim():t)},expression:"formLogin.password"}})],1),n("van-button",{directives:[{name:"btn-re-click",rawName:"v-btn-re-click"}],staticClass:"btn-login",attrs:{block:"",type:"info","native-type":"submit"},on:{click:e.fnLogin}},[e._v("登錄")]),n("van-button",{staticClass:"btn-text",attrs:{block:"",type:"text","native-type":"button"},on:{click:e.fnGoRegister}},[e._v("立即註冊")])],1),n("van-form",{directives:[{name:"show",rawName:"v-show",value:"註冊"===e.loginType,expression:"loginType === '註冊' "}],ref:"refFormRegister",staticClass:"public-form"},[n("div",[n("div",[n("i",{staticClass:"iconfont icon-shouji color-theme"}),n("span",[e._v("手機號")])]),n("van-field",{attrs:{clearable:"",placeholder:"請輸入手機號碼",autocomplete:"off",rules:[{required:!0,message:"請輸入手機號碼"},{validator:e.taiwanPass,message:"請確認手機格式是否正確！"}]},model:{value:e.formRegister.tel,callback:function(t){e.$set(e.formRegister,"tel","string"===typeof t?t.trim():t)},expression:"formRegister.tel"}})],1),n("div",[n("div",[n("i",{staticClass:"iconfont icon-mima1 color-theme"}),n("span",[e._v("密碼")])]),n("van-field",{attrs:{clearable:"",type:"password",placeholder:"請輸入密碼",rules:[{required:!0,message:"請輸入密碼"}]},model:{value:e.formRegister.password,callback:function(t){e.$set(e.formRegister,"password","string"===typeof t?t.trim():t)},expression:"formRegister.password"}})],1),n("div",[n("div",[n("i",{staticClass:"iconfont icon-mima1 color-theme"}),n("span",[e._v("確認密碼")])]),n("van-field",{attrs:{clearable:"",type:"password",placeholder:"請確認密碼",rules:[{required:!0,message:"請確認密碼"},{validator:e.checkPass,message:"兩次輸入密碼不一致"}]},model:{value:e.formRegister.sure_password,callback:function(t){e.$set(e.formRegister,"sure_password","string"===typeof t?t.trim():t)},expression:"formRegister.sure_password"}})],1),n("div",[n("div",[n("i",{staticClass:"iconfont icon-yaoqingma color-theme"}),n("span",[e._v("邀請碼")])]),n("van-field",{attrs:{clearable:"",placeholder:"請輸入邀請碼"},model:{value:e.formRegister.code_str,callback:function(t){e.$set(e.formRegister,"code_str","string"===typeof t?t.trim():t)},expression:"formRegister.code_str"}})],1),n("van-button",{directives:[{name:"btn-re-click",rawName:"v-btn-re-click"}],staticClass:"btn-login",attrs:{block:"",type:"info","native-type":"submit"},on:{click:e.fnRegisterMember}},[e._v("註冊")])],1)],1)],1)},o=[],r=(n("ac1f"),n("00b4"),n("a474")),i=n("9d64"),a=n.n(i),l={name:"login",data:function(){return{logoUrl:a.a,loginType:"登錄",formLogin:{tel:"",password:""},formRegister:{tel:"",password:"",sure_password:"",code_str:""}}},methods:{checkPass:function(e){return console.log(e),e===this.formRegister.password},taiwanPass:function(e){return console.log(e),console.log(/^(09\d{8})$/.test(e)),/^(09\d{8})$/.test(e)},fnFormResetValidation:function(){this.$refs["refFormRegister"].resetValidation(),this.$refs["refFormLogin"].resetValidation()},fnLogin:function(){var e=this;this.$refs.refFormLogin.validate().then((function(){Object(r["n"])({tel:e.formLogin.tel,password:e.formLogin.password}).then((function(t){200==t.code&&(e.$toast(t.msg||"登錄成功！"),e.fnFormResetValidation(),localStorage.setItem("userId",t.data.id),localStorage.setItem("tel",e.formLogin.tel),setTimeout((function(){e.$router.push({path:"/index"})}),1500))}))})).catch((function(e){}))},fnGoRegister:function(){Object.assign(this.$data.formLogin,this.$options.data().formLogin),this.loginType="註冊",this.fnFormResetValidation()},fnRegisterMember:function(){var e=this;this.$refs.refFormRegister.validate().then((function(){Object(r["M"])({tel:e.formRegister.tel,password:e.formRegister.password,code_str:e.formRegister.code_str}).then((function(t){200==t.code&&(e.$toast(t.msg||"註冊成功！"),setTimeout((function(){e.loginType="登錄",Object.assign(e.$data.formRegister,e.$options.data().formRegister),e.fnFormResetValidation()}),500))}))})).catch((function(e){}))},fnBtnLeft:function(){Object.assign(this.$data.formRegister,this.$options.data().formRegister),this.loginType="登錄",this.fnFormResetValidation()}},created:function(){}},c=l,f=(n("8319"),n("2877")),d=Object(f["a"])(c,s,o,!1,null,"340a311e",null);t["default"]=d.exports},ac1f:function(e,t,n){"use strict";var s=n("23e7"),o=n("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(e,t,n){"use strict";var s=n("825a");e.exports=function(){var e=s(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b24a:function(e,t,n){},fce3:function(e,t,n){var s=n("d039"),o=n("da84"),r=o.RegExp;e.exports=s((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);