(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"00b4":function(e,t,n){"use strict";n("ac1f");var i=n("23e7"),o=n("da84"),s=n("c65b"),r=n("e330"),a=n("1626"),l=n("861d"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),f=o.Error,g=r(/./.test);i({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=this.exec;if(!a(t))return g(this,e);var n=s(t,this,e);if(null!==n&&!l(n))throw new f("RegExp exec method returned something other than an Object or null");return!!n}})},"9d64":function(e,t,n){e.exports=n.p+"app/img/logo.png"},a03f:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["Đăng nhập"===e.loginType?n("navBar",{attrs:{navTitle:e.loginType,showRight:"",showLeft:!0}}):n("navBar",{attrs:{navTitle:e.loginType,leftBack:!1},on:{fnBtnLeft:e.fnBtnLeft}}),n("div",{staticClass:"full-width"},[n("van-image",{staticClass:"login-header",attrs:{src:e.logoUrl}}),n("van-form",{directives:[{name:"show",rawName:"v-show",value:"Đăng nhập"===e.loginType,expression:"loginType === 'Đăng nhập' "}],ref:"refFormLogin",staticClass:"public-form"},[n("div",[n("div",[n("i",{staticClass:"iconfont icon-shouji color-theme"}),n("span",[e._v("Số điện thoại")])]),n("van-field",{attrs:{clearable:"",placeholder:"Vui lòng nhập số điện thoại",rules:[{required:!0,message:"Vui lòng nhập số điện thoại"}]},model:{value:e.formLogin.tel,callback:function(t){e.$set(e.formLogin,"tel","string"===typeof t?t.trim():t)},expression:"formLogin.tel"}})],1),n("div",[n("div",[n("i",{staticClass:"iconfont icon-mima1 color-theme"}),n("span",[e._v("mật khẩu mở khóa")])]),n("van-field",{attrs:{clearable:"",type:"password",placeholder:"Xin vui lòng nhập mật khẩu",rules:[{required:!0,message:"Xin vui lòng nhập mật khẩu"}]},model:{value:e.formLogin.password,callback:function(t){e.$set(e.formLogin,"password","string"===typeof t?t.trim():t)},expression:"formLogin.password"}})],1),n("van-button",{directives:[{name:"btn-re-click",rawName:"v-btn-re-click"}],staticClass:"btn-login",attrs:{block:"",type:"info","native-type":"submit"},on:{click:e.fnLogin}},[e._v("Đăng nhập")]),n("van-button",{staticClass:"btn-text",attrs:{block:"",type:"text","native-type":"button"},on:{click:e.fnGoRegister}},[e._v("Đăng ký ngay")])],1),n("van-form",{directives:[{name:"show",rawName:"v-show",value:"Đăng ký"===e.loginType,expression:"loginType === 'Đăng ký' "}],ref:"refFormRegister",staticClass:"public-form"},[n("div",[n("div",[n("i",{staticClass:"iconfont icon-shouji color-theme"}),n("span",[e._v("Số điện thoại")])]),n("van-field",{attrs:{clearable:"",placeholder:"Vui lòng nhập số điện thoại",autocomplete:"off",rules:[{required:!0,message:"Vui lòng nhập số điện thoại"},{validator:e.taiwanPass,message:"Hãy đảm bảo rằng định dạng điện thoại là chính xác！"}]},model:{value:e.formRegister.tel,callback:function(t){e.$set(e.formRegister,"tel","string"===typeof t?t.trim():t)},expression:"formRegister.tel"}})],1),n("div",[n("div",[n("i",{staticClass:"iconfont icon-mima1 color-theme"}),n("span",[e._v("mật khẩu mở khóa")])]),n("van-field",{attrs:{clearable:"",type:"password",placeholder:"Xin vui lòng nhập mật khẩu",rules:[{required:!0,message:"Xin vui lòng nhập mật khẩu"}]},model:{value:e.formRegister.password,callback:function(t){e.$set(e.formRegister,"password","string"===typeof t?t.trim():t)},expression:"formRegister.password"}})],1),n("div",[n("div",[n("i",{staticClass:"iconfont icon-mima1 color-theme"}),n("span",[e._v("Xác nhận mật khẩu")])]),n("van-field",{attrs:{clearable:"",type:"password",placeholder:"Vui lòng xác nhận mật khẩu của bạn",rules:[{required:!0,message:"Vui lòng xác nhận mật khẩu của bạn"},{validator:e.checkPass,message:"Mật khẩu được nhập hai lần không khớp"}]},model:{value:e.formRegister.sure_password,callback:function(t){e.$set(e.formRegister,"sure_password","string"===typeof t?t.trim():t)},expression:"formRegister.sure_password"}})],1),n("div",[n("div",[n("i",{staticClass:"iconfont icon-yaoqingma color-theme"}),n("span",[e._v("Mã mời")])]),n("van-field",{attrs:{clearable:"",placeholder:"Vui lòng nhập mã mời"},model:{value:e.formRegister.code_str,callback:function(t){e.$set(e.formRegister,"code_str","string"===typeof t?t.trim():t)},expression:"formRegister.code_str"}})],1),n("van-button",{directives:[{name:"btn-re-click",rawName:"v-btn-re-click"}],staticClass:"btn-login",attrs:{block:"",type:"info","native-type":"submit"},on:{click:e.fnRegisterMember}},[e._v("Đăng ký")])],1)],1)],1)},o=[],s=(n("ac1f"),n("00b4"),n("a474")),r=n("9d64"),a=n.n(r),l={name:"login",data:function(){return{logoUrl:a.a,loginType:"Đăng nhập",formLogin:{tel:"",password:""},formRegister:{tel:"",password:"",sure_password:"",code_str:""}}},methods:{checkPass:function(e){return console.log(e),e===this.formRegister.password},taiwanPass:function(e){return console.log(e),console.log(/^(09\d{8})$/.test(e)),/^(09\d{8})$/.test(e)},fnFormResetValidation:function(){this.$refs["refFormRegister"].resetValidation(),this.$refs["refFormLogin"].resetValidation()},fnLogin:function(){var e=this;this.$refs.refFormLogin.validate().then((function(){Object(s["o"])({tel:e.formLogin.tel,password:e.formLogin.password}).then((function(t){200==t.code&&(e.$toast(t.msg||"đăng nhập thành công！"),e.fnFormResetValidation(),localStorage.setItem("userId",t.data.id),localStorage.setItem("tel",e.formLogin.tel),setTimeout((function(){e.$router.push({path:"/index"})}),1500))}))})).catch((function(e){}))},fnGoRegister:function(){Object.assign(this.$data.formLogin,this.$options.data().formLogin),this.loginType="Đăng ký",this.fnFormResetValidation()},fnRegisterMember:function(){var e=this;this.$refs.refFormRegister.validate().then((function(){Object(s["O"])({tel:e.formRegister.tel,password:e.formRegister.password,code_str:e.formRegister.code_str}).then((function(t){200==t.code&&(e.$toast(t.msg||"đăng ký thành công！"),setTimeout((function(){e.loginType="Đăng nhập",Object.assign(e.$data.formRegister,e.$options.data().formRegister),e.fnFormResetValidation()}),500))}))})).catch((function(e){}))},fnBtnLeft:function(){Object.assign(this.$data.formRegister,this.$options.data().formRegister),this.loginType="Đăng nhập",this.fnFormResetValidation()}},created:function(){}},c=l,f=(n("edaf"),n("2877")),g=Object(f["a"])(c,i,o,!1,null,"2b7f67f4",null);t["default"]=g.exports},edaf:function(e,t,n){"use strict";n("f092")},f092:function(e,t,n){}}]);