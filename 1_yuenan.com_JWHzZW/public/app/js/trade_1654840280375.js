(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["trade"],{"20d0":function(t,a,e){},2607:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("navBar",{attrs:{navTitle:"Chi tiết kho hàng"}}),e("div",{staticClass:"flex-between tradeInfo-title"},[e("b",[e("span",[t._v(t._s(t.tradeInfoObj.sectorName)+"（"+t._s(t.tradeInfoObj.symbol)+"）")]),e("span",{staticClass:"bg-red color-white"},[t._v(t._s(t.tradeInfoObj.mairu_type_name))])]),e("b",{staticClass:"color-theme"},[t._v(t._s(t.tradeInfoObj.status_name))])]),e("van-cell-group",[e("van-cell",{attrs:{title:"số thứ tự"},scopedSlots:t._u([{key:"extra",fn:function(){return[e("span",{staticClass:"color-theme"},[t._v(t._s(t.tradeInfoObj.number))])]},proxy:!0}])}),e("van-cell",{attrs:{title:"cau gio",value:t.tradeInfoObj.mairu_time}}),e("van-cell",{attrs:{title:"giá mua",value:t.tradeInfoObj.mairu_money}}),e("van-cell",{attrs:{title:"giới hạn giá bán",value:t.tradeInfoObj.limit_maichu_price}}),e("van-cell",{attrs:{title:"số lượng mua"},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",{staticClass:"custom-title"},[t._v(t._s(t.tradeInfoObj.mairu_ori/1e3)+"mở")])]},proxy:!0}])}),e("van-cell",{attrs:{title:"Nắm giữ hiện tại",value:t.tradeInfoObj.mairu_num},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",{staticClass:"custom-title"},[t._v(t._s(t.tradeInfoObj.mairu_num/1e3)+"mở")])]},proxy:!0}])}),e("van-cell",{attrs:{title:"tỷ lệ đòn bẩy",value:t.tradeInfoObj.ganggang_beilv}}),e("van-cell",{attrs:{title:"giá trị thị trường",value:t.tradeInfoObj.shizhi}}),e("van-cell",{attrs:{title:"loại hình",value:t.tradeInfoObj.mairu_type_name}})],1)],1)},s=[],i=e("a474"),r={name:"trade_info",data:function(){return{tradeInfoObj:{mairu_num:0,mairu_ori:0},id:""}},methods:{getInfo:function(){var t=this;Object(i["x"])({id:this.id,quser_id:localStorage.getItem("userId")}).then((function(a){200==a.code&&(t.tradeInfoObj=a.data)}))}},created:function(){this.id=this.$route.query.id,this.getInfo()}},o=r,l=(e("3edf"),e("2877")),c=Object(l["a"])(o,n,s,!1,null,"1e5e392e",null);a["default"]=c.exports},"3edf":function(t,a,e){"use strict";e("968d")},"408a":function(t,a,e){var n=e("e330");t.exports=n(1..valueOf)},5899:function(t,a){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,a,e){var n=e("e330"),s=e("1d80"),i=e("577e"),r=e("5899"),o=n("".replace),l="["+r+"]",c=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),u=function(t){return function(a){var e=i(s(a));return 1&t&&(e=o(e,c,"")),2&t&&(e=o(e,d,"")),e}};t.exports={start:u(1),end:u(2),trim:u(3)}},"5eba":function(t,a,e){},"67f5":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bg-gray",staticStyle:{"min-height":"100vh"}},[e("van-tabs",{staticClass:"tab-theme tab-bgGray",attrs:{swipeable:""},model:{value:t.tabActive,callback:function(a){t.tabActive=a},expression:"tabActive"}},[e("van-tab",{attrs:{name:1,title:"chia sẻ mới"}},[1==t.tabActive?e("tab1_purchase",{attrs:{tabActive:t.tabActive}}):t._e()],1),e("van-tab",{attrs:{name:2,title:"Chế biến"}},[2==t.tabActive?e("tab2_ongoing",{attrs:{tabActive:t.tabActive},on:{fnBackTab:t.fnBackTab}}):t._e()],1),e("van-tab",{attrs:{name:3,title:"chấm dứt"}},[3==t.tabActive?e("tab2_ongoing",{attrs:{tabActive:t.tabActive}}):t._e()],1)],1)],1)},s=[],i=(e("a9e3"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"trade-box"},[e("van-list",{staticClass:"trade-new-van-list",attrs:{finished:t.listed_finished,"finished-text":"","loading-text":"Đang tải……","immediate-check":!1},on:{load:t.fnLoadListed},model:{value:t.listed_loading,callback:function(a){t.listed_loading=a},expression:"listed_loading"}},[0===t.listed_arr.length?e("ul",{staticClass:"text-note text-note2 listed-ul"},[e("li",[t._v("Không có dữ liệu")])]):t._e(),e("ul",{staticClass:"listed-ul"},t._l(t.listed_arr,(function(a,n){return e("li",{key:n},[e("div",{staticClass:"flex purchase-title"},[e("span",{staticClass:"purchase-name"},[t._v(t._s(a.symbol_name))]),e("span",{staticClass:"bg-theme"},[t._v(t._s(a.symbol))])]),e("van-row",{staticClass:"purchase-content"},[e("van-col",{attrs:{span:"15"}},[e("div",[e("span",{staticClass:"color-gray"},[t._v("giá bán")]),t._v(" "+t._s(a.shengou_money))]),e("div",[e("span",{staticClass:"color-gray"},[t._v("Số lượng đăng ký")]),t._v(" "+t._s(a.shengou_num))]),e("div",[e("span",{staticClass:"color-gray"},[t._v("Ngày rút thăm")]),t._v(" "+t._s(a.draw_date))]),e("div",[e("span",{staticClass:"color-gray"},[t._v("Ngày nhận phiếu")]),t._v(" "+t._s(a.roll_date))])]),e("van-col",{attrs:{span:"15"}},[e("div",[e("span",{staticClass:"color-gray"},[t._v("Trúng xổ số")]),t._v(" "+t._s(a.zhongqian_num))]),e("div",[e("span",{staticClass:"color-gray"},[t._v("Để được đăng ký")]),t._v(" "+t._s(a.yirenji_money>=a.zhongqian_renji_money?0:a.zhongqian_renji_money||0))]),e("div",[e("span",{staticClass:"color-gray"},[t._v("đã đăng ký")]),t._v(" "+t._s(a.yirenji_money))]),e("div",[e("span",{staticClass:"color-gray"},[t._v("Ngày ghi nợ")]),t._v(" "+t._s(a.yukoukuan))])])],1),e("div",{staticClass:"align-sc"},[e("div",{staticClass:"btn-market"},[0==a.status?e("van-button",{attrs:{size:"small",type:"info"},on:{click:function(e){return t.fnBtnTradePurchase(a)}}},[t._v(t._s(a.status_name))]):3==a.status?e("van-button",{staticClass:"bgRed",attrs:{size:"small"},on:{click:function(e){return t.fnBtnTradePurchase(a)}}},[t._v(t._s(a.status_name))]):e("van-button",{staticClass:"bgGreen",attrs:{size:"small"},on:{click:function(e){return t.fnBtnTradePurchase(a)}}},[t._v(t._s(a.status_name))])],1)])],1)})),0)])],1)}),r=[],o=(e("99af"),e("a474")),l={name:"tab1_purchase",data:function(){return{listed_loading:!1,listed_finished:!1,listed_arr:[],listed_obj:{page:1}}},methods:{fnBtnTradePurchase:function(t){console.log(t)},fnLoadListed:function(){var t=this;Object(o["B"])({page:this.listed_obj.page,quser_id:localStorage.getItem("userId")}).then((function(a){if(t.listed_loading=!1,200==a.code){if(1==t.listed_obj.page?t.listed_arr=a.data:t.listed_arr=t.listed_arr.concat(a.data),t.listed_obj.page++,a.data.length<20)return void(t.listed_finished=!0)}else t.listed_finished=!0}))}},created:function(){this.fnLoadListed()}},c=l,d=(e("7c9f"),e("2877")),u=Object(d["a"])(c,i,r,!1,null,"1175436e",null),_=u.exports,f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",[e("van-row",{staticClass:"trade-bg-stateUl bg-theme",attrs:{gutter:"2"}},[e("van-col",{staticStyle:{width:"15%"},attrs:{span:"5"}},[t._v("Tên")]),e("van-col",{attrs:{span:"4"}},[t._v("Giá/chi phí")]),e("van-col",{staticStyle:{width:"30%"},attrs:{span:"5"}},[t._v("nắm giữ/thị trường")]),e("van-col",{staticStyle:{width:"15%"},attrs:{span:"5"}},[t._v("Thay đổi")]),e("van-col",{attrs:{span:"5"}},[t._v("tiểu bang")])],1),e("section",{staticClass:"trade-main"},[e("van-list",{staticClass:"trade-van-list",attrs:{finished:t.listed_finished,"finished-text":"","loading-text":"Đang tải……","immediate-check":!1},on:{load:t.fnLoadListed},model:{value:t.listed_loading,callback:function(a){t.listed_loading=a},expression:"listed_loading"}},[0===t.listed_arr.length?e("ul",{staticClass:"text-note text-note2 listed-ul"},[e("li",[t._v("Không có dữ liệu")])]):t._e(),t._l(t.listed_arr,(function(a,n){return e("van-row",{key:n,staticClass:"trade-stateUl",attrs:{gutter:"4"}},[e("van-col",{attrs:{span:"5"}},[a.sunyi>0?e("div",{staticClass:"trade-first color-red"},[e("span",{staticClass:"ellipsis"},[t._v(t._s(a.symbol))]),e("i",{staticClass:"iconfont icon-xiangshang1"})]):e("div",{staticClass:"trade-first color-green"},[e("span",{staticClass:"ellipsis"},[t._v(t._s(a.symbol))]),e("i",{staticClass:"iconfont icon-xiangxia1"})])]),e("van-col",{attrs:{span:"4"}},[e("b",{staticClass:"trade-first"},[t._v(t._s(a.regularMarketPrice))]),e("div",[t._v(t._s(a.mairu_money))])]),e("van-col",{attrs:{span:"5"}},[e("div",{staticClass:"flex-align"},[e("b",{staticClass:"trade-first1"},[t._v(t._s(a.mairu_num/1e3)+"mở ")]),0!=a.ganggang_beilv?e("span",{staticClass:"bg-red"},[t._v(t._s(a.ganggang_beilv)+"lần")]):t._e()]),e("div",[t._v(t._s(a.shizhi))])]),e("van-col",{attrs:{span:"5"}},[e("b",{staticClass:"trade-first",class:a.sunyi>0?"color-red":"color-green"},[t._v(t._s(Number(a.sunyi).toFixed(2)))]),e("div",{class:a.sunyi>0?"color-red":"color-green"},[t._v(t._s(a.sunyibi))])]),e("van-col",{attrs:{span:"5"}},[e("div",{staticClass:"trade-first"},[t._v(t._s(a.mairu_status_name)+" "),e("span",{class:1==a.mairu_type?"bg-red":"bg-green",staticStyle:{width:"50px","line-height":"15px"}},[t._v(t._s(a.mairu_type_name))])]),2==t.tabActive?e("div",[1==a.status?e("div",{staticClass:"bgRed",on:{click:function(e){return t.fnBtnShowTrade(a)}}},[t._v(" "+t._s(a.status_name)+" "),e("van-icon",{attrs:{name:"arrow-down"}})],1):10==a.status?e("div",{staticClass:"bgYellow",on:{click:function(e){return t.fnBtnShowTrade(a)}}},[t._v(" "+t._s(a.status_name)+" "),e("van-icon",{attrs:{name:"arrow-down"}})],1):e("div",{staticClass:"bgTheme",on:{click:function(e){return t.fnBtnShowTrade(a)}}},[t._v(" "+t._s(a.status_name)+" "),e("van-icon",{attrs:{name:"arrow-down"}})],1)]):t._e(),3==t.tabActive?e("div",[e("span",{staticClass:"color-gray font12"},[t._v(t._s(a.status_name))])]):t._e()])],1)}))],2)],1),e("van-action-sheet",{attrs:{actions:t.selectActionArr,"cancel-text":"Hủy bỏ","close-on-click-action":""},on:{select:t.fnSelectAction,cancel:function(a){t.showTradeInfo=!1}},model:{value:t.showTradeInfo,callback:function(a){t.showTradeInfo=a},expression:"showTradeInfo"}}),t.sure_dia?e("van-dialog",{staticClass:"dia-save",attrs:{title:t.pc_title,"show-cancel-button":"",confirmButtonText:"xác nhận",cancelButtonText:"Hủy bỏ","before-close":t.beforeClose},on:{cancel:function(a){t.num=0,t.sure_dia=!1},confirm:t.fnConfirmSave},model:{value:t.sure_dia,callback:function(a){t.sure_dia=a},expression:"sure_dia"}},[e("van-form",{ref:"refFormRegister",staticClass:"public-form"},[e("van-field",{staticClass:"bg-inp",attrs:{type:"digit",placeholder:"Vui lòng nhập số vị trí đã đóng",label:"Số vị trí đã đóng："},scopedSlots:t._u([{key:"extra",fn:function(){return[e("span",{staticClass:"span-note"},[t._v("mở")])]},proxy:!0}],null,!1,3591813849),model:{value:t.num,callback:function(a){t.num=a},expression:"num"}}),e("van-field",{staticClass:"bg-inp",attrs:{type:"number",placeholder:"Không làm mất hoặc điền số 0 là giá thị trường",label:"Giới hạn："},scopedSlots:t._u([{key:"extra",fn:function(){return[e("span",{staticClass:"span-note"})]},proxy:!0}],null,!1,763352041),model:{value:t.price,callback:function(a){t.price=a},expression:"price"}})],1)],1):t._e()],1)},v=[],h={name:"tab2_ongoing",props:{tabActive:{type:String|Number,default:""}},data:function(){return{sure_dia:!1,pc_title:"",num:null,price:null,showTradeInfo:!1,selectActionArr:[{name:"chi tiết",id:2}],id:"",listed_loading:!1,listed_finished:!1,listed_arr:[],list_ids:[],listed_obj:{page:1,status:""},time_interval:"",item_obj:{}}},methods:{beforeClose:function(t,a){return"confirm"==t?a(!1):a()},fnBtnShowTrade:function(t){console.log(t),this.item_obj=t,1==t.status?this.selectActionArr=[{name:"đóng",id:1},{name:"chi tiết",id:2}]:10==t.status?this.selectActionArr=[{name:"chi tiết",id:2},{name:"Hủy đang lý",id:3}]:2==t.status?this.selectActionArr=[{name:"chi tiết",id:2},{name:"Hủy đóng cửa",id:4}]:this.selectActionArr=[{name:"chi tiết",id:2}],this.id=t.id,this.showTradeInfo=!0},fnConfirmSave:function(){var t=this;this.num?0!=this.num?this.num<0?this.$toast("Số lượng vị thế đã đóng không được ít hơn 0！"):Number(this.num)>Number(this.item_obj.mairu_num)?this.$toast("Số tiền đóng không được lớn hơn số tiền nắm giữ！"):Object(o["y"])({quser_id:localStorage.getItem("userId"),id:this.id,num:1e3*this.num,price:this.price}).then((function(a){200==a.code&&(t.$toast(a.msg),t.sure_dia=!1)})):this.$toast("Số tiền đóng không được 0！"):this.$toast("Số tiền đóng không được để trống！")},fnSelectAction:function(t){var a=this;console.log(t),console.log(this.id);if(1==t.id){var e=this.item_obj;this.pc_title="hiện đang được tổ chức ".concat(e.mairu_num/1e3," mở ").concat(e.symbol,"，Có bao nhiêu để đóng？"),this.sure_dia=!0}2==t.id&&(this.$router.push({name:"trade_info",query:{id:this.id}}),localStorage.setItem("trade_tab_active",2)),3==t.id&&Object(o["w"])({quser_id:localStorage.getItem("userId"),id:this.id}).then((function(t){200==t.code&&(a.$toast(t.msg),setTimeout((function(){a.$emit("fnBackTab",3)}),1e3))})),4==t.id&&Object(o["l"])({quser_id:localStorage.getItem("userId"),id:this.id}).then((function(t){200==t.code&&a.$toast(t.msg)}))},fnLoadListed:function(){var t=this;Object(o["z"])({page:this.listed_obj.page,status:this.listed_obj.status,quser_id:localStorage.getItem("userId")}).then((function(a){if(t.listed_loading=!1,200==a.code){for(var e=0;e<a.data.length;e++){if(t.list_ids.indexOf(a.data[e].id)>=0)return;t.list_ids.push(a.data[e].id)}if(1==t.listed_obj.page?t.listed_arr=a.data:t.listed_arr=t.listed_arr.concat(a.data),a.data.length<20)return void(t.listed_finished=!0);t.listed_obj.page++}else t.listed_finished=!0}))}},created:function(){var t=this,a=this.tabActive,e="";2==a&&(e="",this.time_interval=setInterval((function(){t.listed_obj.page>1||t.fnLoadListed()}),5e3)),3==a&&(e="4"),this.listed_obj.status=e,this.fnLoadListed()},destroyed:function(){clearInterval(this.time_interval)}},g=h,m=(e("885f"),Object(d["a"])(g,f,v,!1,null,"43769dfe",null)),b=m.exports,p={name:"login",components:{tab1_purchase:_,tab2_ongoing:b},data:function(){return{tabActive:1}},methods:{fnBackTab:function(t){if(t)this.tabActive=t;else{var a=Number(localStorage.getItem("trade_tab_active"));a&&(this.tabActive=a),setTimeout((function(){localStorage.removeItem("trade_tab_active")}),1e3)}}},created:function(){this.fnBackTab()}},y=p,C=Object(d["a"])(y,n,s,!1,null,null,null);a["default"]=C.exports},"7c9f":function(t,a,e){"use strict";e("20d0")},"885f":function(t,a,e){"use strict";e("5eba")},"968d":function(t,a,e){},a9e3:function(t,a,e){"use strict";var n=e("83ab"),s=e("da84"),i=e("e330"),r=e("94ca"),o=e("cb2d"),l=e("1a2d"),c=e("7156"),d=e("3a9b"),u=e("d9b5"),_=e("c04e"),f=e("d039"),v=e("241c").f,h=e("06cf").f,g=e("9bf2").f,m=e("408a"),b=e("58a8").trim,p="Number",y=s[p],C=y.prototype,I=s.TypeError,x=i("".slice),j=i("".charCodeAt),k=function(t){var a=_(t,"number");return"bigint"==typeof a?a:A(a)},A=function(t){var a,e,n,s,i,r,o,l,c=_(t,"number");if(u(c))throw I("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),a=j(c,0),43===a||45===a){if(e=j(c,2),88===e||120===e)return NaN}else if(48===a){switch(j(c,1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+c}for(i=x(c,2),r=i.length,o=0;o<r;o++)if(l=j(i,o),l<48||l>s)return NaN;return parseInt(i,n)}return+c};if(r(p,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,w=function(t){var a=arguments.length<1?0:y(k(t)),e=this;return d(C,e)&&f((function(){m(e)}))?c(Object(a),e,w):a},T=n?v(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),O=0;T.length>O;O++)l(y,S=T[O])&&!l(w,S)&&g(w,S,h(y,S));w.prototype=C,C.constructor=w,o(s,p,w)}}}]);