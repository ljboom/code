(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["market"],{"408a":function(t,e,a){var s=a("e330");t.exports=s(1..valueOf)},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var s=a("e330"),n=a("1d80"),i=a("577e"),r=a("5899"),o=s("".replace),l="["+r+"]",c=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),u=function(t){return function(e){var a=i(n(e));return 1&t&&(a=o(a,c,"")),2&t&&(a=o(a,d,"")),a}};t.exports={start:u(1),end:u(2),trim:u(3)}},"788b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-gray",staticStyle:{height:"100vh"}},[a("van-tabs",{staticClass:"tab-theme tab-bgGray",attrs:{swipeable:""},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[a("van-tab",{attrs:{name:1,title:"上市"}},[1==t.tabActive?a("tab1_tai",{attrs:{tabActive:t.tabActive},on:{fnGoMarketInfo:t.fnGoMarketInfo}}):t._e()],1),a("van-tab",{attrs:{name:2,title:"上櫃"}},[2==t.tabActive?a("tab1_tai",{attrs:{tabActive:t.tabActive},on:{fnGoMarketInfo:t.fnGoMarketInfo}}):t._e()],1),a("van-tab",{attrs:{name:3,title:"新股"}},[3==t.tabActive?a("tab3_new"):t._e()],1),a("van-tab",{attrs:{name:4,title:"自選"}},[4==t.tabActive?a("tab4_userChecked"):t._e()],1)],1)],1)},n=[],i=(a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("market_type",{attrs:{category:t.listed_obj.exchange},on:{fnCheckedType:t.fnCheckedType}}),a("div",{staticClass:"listed-box"},[a("van-row",{staticClass:"listed-list-first full-width92"},[a("van-col",{attrs:{span:"8"}},[a("div",[t._v("商品")])]),a("van-col",{staticClass:"tc",attrs:{span:"8"}},[a("div",[t._v("最新價")])]),a("van-col",{staticClass:"tr",attrs:{span:"8"}},[a("div",[t._v("漲跌幅")])])],1),a("van-list",{staticClass:"listed-van-list",attrs:{finished:t.listed_finished,"finished-text":"","loading-text":"加載中……","immediate-check":!1},on:{load:t.fnLoadListed},model:{value:t.listed_loading,callback:function(e){t.listed_loading=e},expression:"listed_loading"}},[a("main",{staticClass:"listed-ul"},t._l(t.listed_arr,(function(e,s){return a("van-row",{key:s,staticClass:"listed-list full-width92",on:{click:function(a){return t.fnGoMarketInfo(e)}}},[a("van-col",{attrs:{span:"8"}},[a("div",{staticClass:"listed-name"},[t._v(t._s(e.symbolName))]),a("span",{staticClass:"bg-theme"},[t._v(t._s(e.symbol))])]),a("van-col",{staticClass:"tc",attrs:{span:"8"}},[a("div",{staticClass:"listed-price",class:e.regularMarketChangePercent>=0?"color-red":"color-green"},[t._v(" "+t._s(e.bid||0)+" ")])]),a("van-col",{staticClass:"tr",attrs:{span:"8"}},[a("div",{staticClass:"color-white type-num",class:e.regularMarketChangePercent>=0?"bg-red":"bg-green"},[e.regularMarketChangePercent>=0?a("span",[t._v("+")]):t._e(),a("span",[t._v(t._s(Number(e.regularMarketChangePercent).toFixed(2)||0)+" %")])])])],1)})),1)])],1)],1)}),r=[],o=(a("99af"),a("a474")),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-button",{staticClass:"btn-select",attrs:{size:"mini",type:"info"},on:{click:function(e){t.showType=!0}}},[a("div",{staticClass:"btn-select-content"},[a("div",{staticClass:"btn-select-name"},[t._v(t._s(t.typeInfoObj.name))]),a("i",{staticClass:"iconfont icon-xiangxia1"})])]),a("van-popup",{attrs:{position:"bottom"},model:{value:t.showType,callback:function(e){t.showType=e},expression:"showType"}},[a("van-picker",{attrs:{"show-toolbar":"","confirm-button-text":"確認",columns:t.typeArr},on:{confirm:t.fnChangeType,cancel:function(e){t.showType=!1}},scopedSlots:t._u([{key:"option",fn:function(e){return[a("div",[t._v(t._s(e.name))])]}}])})],1)],1)},c=[],d={name:"login",props:{category:{type:String,default:"TAI"}},data:function(){return{showType:!1,typeArr:[],typeInfoObj:{name:"選擇分類"}}},methods:{fnChangeType:function(t){console.log(t),this.typeInfoObj=t,this.showType=!1,this.$emit("fnCheckedType",t.sectorId)},fnGetType:function(){var t=this;Object(o["b"])({category:this.category}).then((function(e){200==e.code&&(t.typeArr=e.data)}))}},created:function(){this.fnGetType()}},u=d,_=a("2877"),f=Object(_["a"])(u,l,c,!1,null,null,null),v=f.exports,p={name:"tab1_tai",components:{market_type:v},props:{exchange:{type:String}},data:function(){return{time_interval:"",listed_loading:!1,listed_finished:!1,listed_arr:[],listed_obj:{exchange:"TAI",sectorId:"",page:1}}},methods:{fnCheckedType:function(t){console.log(t),this.listed_obj.page=1,this.listed_obj.sectorId=t,this.fnLoadListed()},fnGoMarketInfo:function(t){this.$emit("fnGoMarketInfo",t)},fnLoadListed:function(){var t=this;this.listed_loading=!0,Object(o["c"])({exchange:this.listed_obj.exchange,sectorId:this.listed_obj.sectorId,page:this.listed_obj.page}).then((function(e){if(t.listed_loading=!1,200==e.code){if(1==t.listed_obj.page?t.listed_arr=e.data:t.listed_arr=t.listed_arr.concat(e.data),t.listed_obj.page++,e.data.length<20)return void(t.listed_finished=!0)}else t.listed_finished=!0}))}},created:function(){var t=this,e=this.$attrs.tabActive,a="TAI";1==e&&(a="TAI"),2==e&&(a="TWO"),this.listed_obj.exchange=a,this.fnLoadListed(),this.time_interval=setInterval((function(){t.listed_obj.page--,t.fnLoadListed()}),5e3)},destroyed:function(){clearInterval(this.time_interval)}},h=p,b=Object(_["a"])(h,i,r,!1,null,null,null),g=b.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"tab3-purchase-box"},[0===t.purchase_arr.length?a("ul",{staticClass:"text-note text-note2 listed-ul"},[a("li",[t._v("暫無數據")])]):t._e(),a("van-list",{staticClass:"new-van-list",attrs:{finished:t.listed_finished,"finished-text":"","loading-text":"加載中……","immediate-check":!1},on:{load:t.fnLoadListed_new},model:{value:t.listed_loading,callback:function(e){t.listed_loading=e},expression:"listed_loading"}},t._l(t.purchase_arr,(function(e,s){return a("div",{key:s,staticClass:"purchase-box"},[a("main",{staticClass:"listed-ul"},[a("div",{staticClass:"flex-between purchase-title"},[a("div",{},[a("span",{staticClass:"purchase-name"},[t._v(t._s(e.symbol_name))]),a("span",{staticClass:"bg-theme"},[t._v(t._s(e.symbol))])]),a("div",{staticClass:"color-red"},[a("span",{staticClass:"bg-pink purchase-time-note"},[t._v("截止日")]),a("span",{staticClass:"purchase-time"},[t._v(t._s(e.subscription_period.split("~")[1]))])])]),a("van-row",{staticClass:"purchase-content purchase-tab-content"},[a("van-col",{attrs:{span:"9"}},[a("div",[a("span",{staticClass:"color-gray"},[t._v("可申購")]),0==e.can_purchased?a("span",[t._v(" 不限")]):a("span",[t._v(" "+t._s(e.can_purchased)+"張")])]),a("div",[a("span",{staticClass:"color-gray"},[t._v("總申購")]),t._v(" "+t._s(e.total_subscription)+"張")]),a("div",[a("span",{staticClass:"color-gray"},[t._v("承銷價")]),t._v(" "+t._s(e.underwriting_price))])]),a("van-col",{attrs:{span:"9"}},[a("div",{staticClass:"color-red"},[t._v("市價 "+t._s(e.market_price))]),a("div",{staticClass:"color-red"},[t._v("差價 "+t._s(e.spread))]),a("div",{staticClass:"color-red"},[a("span",{staticClass:"color-gray"},[t._v("溢價差")]),t._v(" "+t._s((100*Number(e.yijiacha)).toFixed(2))+"% ")])]),a("van-col",{staticClass:"align-sc",attrs:{span:"6"}},[a("div",{staticClass:"btn-market"},["已截止"==e.type?a("van-button",{attrs:{size:"small",type:"info",disabled:""}},[t._v(t._s(e.type))]):a("van-button",{attrs:{size:"small",type:"info"},on:{click:function(a){return t.fnBtnGoPurchase(e)}}},[t._v(t._s(e.type))])],1)])],1)],1)])})),0)],1)},y=[],C={name:"tab3_new",data:function(){return{purchase_arr:[],listed_obj:{page:1},listed_loading:!1,listed_finished:!1}},methods:{fnBtnGoPurchase:function(t){console.log(t),this.$router.push({name:"market_purchaseInfo",query:{id:t.id}}),localStorage.setItem("market_tab_active",3)},fnLoadListed_new:function(){var t=this;Object(o["D"])({page:this.listed_obj.page}).then((function(e){if(t.listed_loading=!1,200==e.code){if(1==t.listed_obj.page?t.purchase_arr=e.data:t.purchase_arr=t.purchase_arr.concat(e.data),t.listed_obj.page++,e.data.length<20)return void(t.listed_finished=!0)}else t.listed_finished=!0}))}},created:function(){this.fnLoadListed_new()}},k=C,I=Object(_["a"])(k,m,y,!1,null,null,null),x=I.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"listed-box user-listed-box"},[a("van-row",{staticClass:"listed-list-first full-width92"},[a("van-col",{attrs:{span:"8"}},[a("div",[t._v("商品")])]),a("van-col",{staticClass:"tc",attrs:{span:"8"}},[a("div",[t._v("最新價")])]),a("van-col",{staticClass:"tr",attrs:{span:"8"}},[a("div",[t._v("漲跌幅")])])],1),0===t.user_arr.length?a("ul",{staticClass:"text-note text-note2 listed-ul"},[a("li",[t._v("暫無數據")])]):a("van-list",{staticClass:"user-van-list",attrs:{finished:t.user_finished,"finished-text":"","loading-text":"加載中……","immediate-check":!1},on:{load:t.fnLoadUser_user},model:{value:t.user_loading,callback:function(e){t.user_loading=e},expression:"user_loading"}},[a("main",{staticClass:"listed-ul"},t._l(t.user_arr,(function(e,s){return a("van-row",{key:s,staticClass:"listed-list full-width92",on:{click:function(a){return t.fnGoMarketInfo(e)}}},[a("van-col",{attrs:{span:"8"}},[a("div",{staticClass:"listed-name"},[t._v(t._s(e.symbolName))]),a("span",{staticClass:"bg-theme"},[t._v(t._s(e.symbol))])]),a("van-col",{staticClass:"tc",attrs:{span:"8"}},[a("div",{staticClass:"listed-price",class:e.regularMarketChangePercent>=0?"color-red":"color-green"},[t._v(" "+t._s(e.bid||0)+" ")])]),a("van-col",{staticClass:"tr",attrs:{span:"8"}},[a("div",{staticClass:"color-white type-num",class:e.regularMarketChangePercent>=0?"bg-red":"bg-green"},[e.regularMarketChangePercent>=0?a("span",[t._v("+")]):t._e(),a("span",[t._v(t._s(Number(e.regularMarketChangePercent).toFixed(2)||0)+"%")])])])],1)})),1)]),a("van-button",{staticClass:"btn-wid92 btn-addMarket",attrs:{block:"",type:"info","native-type":"submit"},on:{click:t.fnGOAddMarket}},[t._v("添加股票")])],1)},j=[],A={name:"tab4_userChecked",data:function(){return{user_loading:!1,user_finished:!1,user_arr:[],user_obj:{quser_id:"",page:1},time_interval:""}},methods:{fnGOAddMarket:function(){this.$router.push({name:"market_addStock"})},fnGoMarketInfo:function(t){console.log(t),this.$router.push({name:"market_info",query:{systexId:t.systexId,symbol:t.symbol,id:t.qstockservices_id}}),localStorage.setItem("market_tab_active",4)},fnLoadUser_user:function(){var t=this;Object(o["e"])({quser_id:localStorage.getItem("userId"),page:this.user_obj.page}).then((function(e){if(t.user_loading=!1,200==e.code){if(console.log(e.data),1==t.user_obj.page?t.user_arr=e.data:t.user_arr=t.user_arr.concat(e.data),t.user_obj.page++,console.log(t.user_obj.page),e.data.length<20)return void(t.user_finished=!0)}else t.listed_finished=!0}))}},created:function(){var t=this;this.fnLoadUser_user(),this.time_interval=setInterval((function(){t.user_obj.page--,t.fnLoadUser_user()}),5e3)},destroyed:function(){clearInterval(this.time_interval)}},T=A,M=Object(_["a"])(T,w,j,!1,null,null,null),N=M.exports,L={name:"market",components:{tab1_tai:g,tab3_new:x,tab4_userChecked:N},data:function(){return{tabActive:1}},methods:{fnBackTab:function(){this.tabActive=Number(localStorage.getItem("market_tab_active")),setTimeout((function(){localStorage.removeItem("market_tab_active")}),1e3)},fnGoMarketInfo:function(t){console.log(t),this.$router.push({name:"market_info",query:{systexId:t.systexId,symbol:t.symbol,id:t.id}}),localStorage.setItem("market_tab_active",this.tabActive)}},created:function(){this.fnBackTab()}},E=L,G=Object(_["a"])(E,s,n,!1,null,null,null);e["default"]=G.exports},a9e3:function(t,e,a){"use strict";var s=a("83ab"),n=a("da84"),i=a("e330"),r=a("94ca"),o=a("cb2d"),l=a("1a2d"),c=a("7156"),d=a("3a9b"),u=a("d9b5"),_=a("c04e"),f=a("d039"),v=a("241c").f,p=a("06cf").f,h=a("9bf2").f,b=a("408a"),g=a("58a8").trim,m="Number",y=n[m],C=y.prototype,k=n.TypeError,I=i("".slice),x=i("".charCodeAt),w=function(t){var e=_(t,"number");return"bigint"==typeof e?e:j(e)},j=function(t){var e,a,s,n,i,r,o,l,c=_(t,"number");if(u(c))throw k("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=g(c),e=x(c,0),43===e||45===e){if(a=x(c,2),88===a||120===a)return NaN}else if(48===e){switch(x(c,1)){case 66:case 98:s=2,n=49;break;case 79:case 111:s=8,n=55;break;default:return+c}for(i=I(c,2),r=i.length,o=0;o<r;o++)if(l=x(i,o),l<48||l>n)return NaN;return parseInt(i,s)}return+c};if(r(m,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var A,T=function(t){var e=arguments.length<1?0:y(w(t)),a=this;return d(C,a)&&f((function(){b(a)}))?c(Object(e),a,T):e},M=s?v(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),N=0;M.length>N;N++)l(y,A=M[N])&&!l(T,A)&&h(T,A,p(y,A));T.prototype=C,C.constructor=T,o(n,m,T)}}}]);