(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["trade"],{"0d77":function(t,e,a){"use strict";a("a886")},2607:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("navBar",{attrs:{navTitle:"個股明細"}}),a("div",{staticClass:"flex-between tradeInfo-title"},[a("b",[a("span",[t._v(t._s(t.tradeInfoObj.sectorName)+"（"+t._s(t.tradeInfoObj.symbol)+"）")]),a("span",{staticClass:"bg-red color-white"},[t._v(t._s(t.tradeInfoObj.mairu_type_name))])]),a("b",{staticClass:"color-theme"},[t._v(t._s(t.tradeInfoObj.status_name))])]),a("van-cell-group",[a("van-cell",{attrs:{title:"訂單號"},scopedSlots:t._u([{key:"extra",fn:function(){return[a("span",{staticClass:"color-theme"},[t._v(t._s(t.tradeInfoObj.number))])]},proxy:!0}])}),a("van-cell",{attrs:{title:"買入時間",value:t.tradeInfoObj.mairu_time}}),a("van-cell",{attrs:{title:"買入價格",value:t.tradeInfoObj.mairu_money}}),a("van-cell",{attrs:{title:"限價賣出價格",value:t.tradeInfoObj.limit_maichu_price}}),a("van-cell",{attrs:{title:"買入股數"},scopedSlots:t._u([{key:"default",fn:function(){return[a("span",{staticClass:"custom-title"},[t._v(t._s(t.tradeInfoObj.mairu_ori/1e3)+"張")])]},proxy:!0}])}),a("van-cell",{attrs:{title:"現持有數量",value:t.tradeInfoObj.mairu_num},scopedSlots:t._u([{key:"default",fn:function(){return[a("span",{staticClass:"custom-title"},[t._v(t._s(t.tradeInfoObj.mairu_num/1e3)+"張")])]},proxy:!0}])}),a("van-cell",{attrs:{title:"槓桿倍率",value:t.tradeInfoObj.ganggang_beilv}}),a("van-cell",{attrs:{title:"市值",value:t.tradeInfoObj.shizhi}}),a("van-cell",{attrs:{title:"類型",value:t.tradeInfoObj.mairu_type_name}})],1)],1)},n=[],i=a("a474"),r={name:"trade_info",data:function(){return{tradeInfoObj:{mairu_num:0,mairu_ori:0},id:""}},methods:{getInfo:function(){var t=this;Object(i["w"])({id:this.id,quser_id:localStorage.getItem("userId")}).then((function(e){200==e.code&&(t.tradeInfoObj=e.data)}))}},created:function(){this.id=this.$route.query.id,this.getInfo()}},o=r,l=(a("0d77"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,"0f9c5102",null);e["default"]=c.exports},"408a":function(t,e,a){var s=a("e330");t.exports=s(1..valueOf)},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var s=a("e330"),n=a("1d80"),i=a("577e"),r=a("5899"),o=s("".replace),l="["+r+"]",c=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),u=function(t){return function(e){var a=i(n(e));return 1&t&&(a=o(a,c,"")),2&t&&(a=o(a,d,"")),a}};t.exports={start:u(1),end:u(2),trim:u(3)}},6774:function(t,e,a){"use strict";a("7232")},"67f5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-gray",staticStyle:{"min-height":"100vh"}},[a("van-tabs",{staticClass:"tab-theme tab-bgGray",attrs:{swipeable:""},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[a("van-tab",{attrs:{name:1,title:"新股"}},[1==t.tabActive?a("tab1_purchase",{attrs:{tabActive:t.tabActive}}):t._e()],1),a("van-tab",{attrs:{name:2,title:"進行中"}},[2==t.tabActive?a("tab2_ongoing",{attrs:{tabActive:t.tabActive},on:{fnBackTab:t.fnBackTab}}):t._e()],1),a("van-tab",{attrs:{name:3,title:"已終止"}},[3==t.tabActive?a("tab2_ongoing",{attrs:{tabActive:t.tabActive}}):t._e()],1)],1)],1)},n=[],i=(a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"trade-box"},[a("van-list",{staticClass:"trade-new-van-list",attrs:{finished:t.listed_finished,"finished-text":"","loading-text":"加載中……","immediate-check":!1},on:{load:t.fnLoadListed},model:{value:t.listed_loading,callback:function(e){t.listed_loading=e},expression:"listed_loading"}},[0===t.listed_arr.length?a("ul",{staticClass:"text-note text-note2 listed-ul"},[a("li",[t._v("暫無數據")])]):t._e(),a("ul",{staticClass:"listed-ul"},t._l(t.listed_arr,(function(e,s){return a("li",{key:s},[a("div",{staticClass:"flex purchase-title"},[a("span",{staticClass:"purchase-name"},[t._v(t._s(e.symbol_name))]),a("span",{staticClass:"bg-theme"},[t._v(t._s(e.symbol))])]),a("van-row",{staticClass:"purchase-content"},[a("van-col",{attrs:{span:"15"}},[a("div",[a("span",{staticClass:"color-gray"},[t._v("價格")]),t._v(" "+t._s(e.shengou_money))]),a("div",[a("span",{staticClass:"color-gray"},[t._v("申購量")]),t._v(" "+t._s(e.shengou_num))]),a("div",[a("span",{staticClass:"color-gray"},[t._v("抽籤日")]),t._v(" "+t._s(e.draw_date))]),a("div",[a("span",{staticClass:"color-gray"},[t._v("撥券日")]),t._v(" "+t._s(e.roll_date))])]),a("van-col",{attrs:{span:"15"}},[a("div",[a("span",{staticClass:"color-gray"},[t._v("中籤")]),t._v(" "+t._s(e.zhongqian_num))]),a("div",[a("span",{staticClass:"color-gray"},[t._v("待認繳")]),t._v(" "+t._s(e.yirenji_money>=e.zhongqian_renji_money?0:e.zhongqian_renji_money))]),a("div",[a("span",{staticClass:"color-gray"},[t._v("已認繳")]),t._v(" "+t._s(e.yirenji_money))]),a("div",[a("span",{staticClass:"color-gray"},[t._v("扣款日")]),t._v(" "+t._s(e.yukoukuan))])])],1),a("div",{staticClass:"align-sc"},[a("div",{staticClass:"btn-market"},[0==e.status?a("van-button",{attrs:{size:"small",type:"info"},on:{click:function(a){return t.fnBtnTradePurchase(e)}}},[t._v(t._s(e.status_name))]):3==e.status?a("van-button",{staticClass:"bgRed",attrs:{size:"small"},on:{click:function(a){return t.fnBtnTradePurchase(e)}}},[t._v(t._s(e.status_name))]):a("van-button",{staticClass:"bgGreen",attrs:{size:"small"},on:{click:function(a){return t.fnBtnTradePurchase(e)}}},[t._v(t._s(e.status_name))])],1)])],1)})),0)])],1)}),r=[],o=(a("99af"),a("a474")),l={name:"tab1_purchase",data:function(){return{listed_loading:!1,listed_finished:!1,listed_arr:[],listed_obj:{page:1}}},methods:{fnBtnTradePurchase:function(t){console.log(t)},fnLoadListed:function(){var t=this;Object(o["A"])({page:this.listed_obj.page,quser_id:localStorage.getItem("userId")}).then((function(e){if(t.listed_loading=!1,200==e.code){if(1==t.listed_obj.page?t.listed_arr=e.data:t.listed_arr=t.listed_arr.concat(e.data),t.listed_obj.page++,e.data.length<20)return void(t.listed_finished=!0)}else t.listed_finished=!0}))}},created:function(){this.fnLoadListed()}},c=l,d=(a("6774"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"b02cc634",null),_=u.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("van-row",{staticClass:"trade-bg-stateUl bg-theme",attrs:{gutter:"2"}},[a("van-col",{attrs:{span:"5"}},[t._v("名稱/代碼")]),a("van-col",{attrs:{span:"4"}},[t._v("現價/成本")]),a("van-col",{attrs:{span:"5"}},[t._v("持有/市值")]),a("van-col",{attrs:{span:"5"}},[t._v("損益")]),a("van-col",{attrs:{span:"5"}},[t._v("狀態")])],1),a("section",{staticClass:"trade-main"},[a("van-list",{staticClass:"trade-van-list",attrs:{finished:t.listed_finished,"finished-text":"","loading-text":"加載中……","immediate-check":!1},on:{load:t.fnLoadListed},model:{value:t.listed_loading,callback:function(e){t.listed_loading=e},expression:"listed_loading"}},[0===t.listed_arr.length?a("ul",{staticClass:"text-note text-note2 listed-ul"},[a("li",[t._v("暫無數據")])]):t._e(),t._l(t.listed_arr,(function(e,s){return a("van-row",{key:s,staticClass:"trade-stateUl",attrs:{gutter:"4"}},[a("van-col",{attrs:{span:"5"}},[e.sunyi>0?a("div",{staticClass:"trade-first color-red"},[a("span",{staticClass:"ellipsis"},[t._v(t._s(e.sectorName))]),a("i",{staticClass:"iconfont icon-xiangshang1"})]):a("div",{staticClass:"trade-first color-green"},[a("span",{staticClass:"ellipsis"},[t._v(t._s(e.sectorName))]),a("i",{staticClass:"iconfont icon-xiangxia1"})]),a("div",[a("span",{staticClass:"bg-theme"},[t._v(t._s(e.symbol))])])]),a("van-col",{attrs:{span:"4"}},[a("b",{staticClass:"trade-first"},[t._v(t._s(e.regularMarketPrice))]),a("div",[t._v(t._s(e.mairu_money))])]),a("van-col",{attrs:{span:"5"}},[a("div",{staticClass:"flex-align"},[a("b",{staticClass:"trade-first1"},[t._v(t._s(e.mairu_num/1e3)+"張 ")]),0!=e.ganggang_beilv?a("span",{staticClass:"bg-red"},[t._v(t._s(e.ganggang_beilv)+"倍")]):t._e()]),a("div",[t._v(t._s(e.shizhi))])]),a("van-col",{attrs:{span:"5"}},[a("b",{staticClass:"trade-first",class:e.sunyi>0?"color-red":"color-green"},[t._v(t._s(Number(e.sunyi).toFixed(2)))]),a("div",{class:e.sunyi>0?"color-red":"color-green"},[t._v(t._s(e.sunyibi))])]),a("van-col",{attrs:{span:"5"}},[a("div",{staticClass:"trade-first"},[t._v(t._s(e.mairu_status_name)+" "),a("span",{class:1==e.mairu_type?"bg-red":"bg-green"},[t._v(t._s(e.mairu_type_name))])]),2==t.tabActive?a("div",[1==e.status?a("div",{staticClass:"bgRed",on:{click:function(a){return t.fnBtnShowTrade(e)}}},[t._v(" "+t._s(e.status_name)+" "),a("van-icon",{attrs:{name:"arrow-down"}})],1):10==e.status?a("div",{staticClass:"bgYellow",on:{click:function(a){return t.fnBtnShowTrade(e)}}},[t._v(" "+t._s(e.status_name)+" "),a("van-icon",{attrs:{name:"arrow-down"}})],1):a("div",{staticClass:"bgTheme",on:{click:function(a){return t.fnBtnShowTrade(e)}}},[t._v(" "+t._s(e.status_name)+" "),a("van-icon",{attrs:{name:"arrow-down"}})],1)]):t._e(),3==t.tabActive?a("div",[a("span",{staticClass:"color-gray font12"},[t._v(t._s(e.status_name))])]):t._e()])],1)}))],2)],1),a("van-action-sheet",{attrs:{actions:t.selectActionArr,"cancel-text":"取消","close-on-click-action":""},on:{select:t.fnSelectAction,cancel:function(e){t.showTradeInfo=!1}},model:{value:t.showTradeInfo,callback:function(e){t.showTradeInfo=e},expression:"showTradeInfo"}}),t.sure_dia?a("van-dialog",{staticClass:"dia-save",attrs:{title:t.pc_title,"show-cancel-button":"",confirmButtonText:"確認",cancelButtonText:"取消","before-close":t.beforeClose},on:{cancel:function(e){t.num=0,t.sure_dia=!1},confirm:t.fnConfirmSave},model:{value:t.sure_dia,callback:function(e){t.sure_dia=e},expression:"sure_dia"}},[a("van-form",{ref:"refFormRegister",staticClass:"public-form"},[a("van-field",{staticClass:"bg-inp",attrs:{type:"digit",placeholder:"請輸入平倉張數",label:"平倉張數："},scopedSlots:t._u([{key:"extra",fn:function(){return[a("span",{staticClass:"span-note"},[t._v("張")])]},proxy:!0}],null,!1,2878557022),model:{value:t.num,callback:function(e){t.num=e},expression:"num"}}),a("van-field",{staticClass:"bg-inp",attrs:{type:"number",placeholder:"不輸或填寫0則為市價",label:"限價金額："},scopedSlots:t._u([{key:"extra",fn:function(){return[a("span",{staticClass:"span-note"},[t._v("NTD")])]},proxy:!0}],null,!1,1418515061),model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)],1):t._e()],1)},v=[],m={name:"tab2_ongoing",props:{tabActive:{type:String|Number,default:""}},data:function(){return{sure_dia:!1,pc_title:"",num:null,price:null,showTradeInfo:!1,selectActionArr:[{name:"明細",id:2}],id:"",listed_loading:!1,listed_finished:!1,listed_arr:[],listed_obj:{page:1,status:""},time_interval:"",item_obj:{}}},methods:{beforeClose:function(t,e){return"confirm"==t?e(!1):e()},fnBtnShowTrade:function(t){console.log(t),this.item_obj=t,1==t.status?this.selectActionArr=[{name:"平倉",id:1},{name:"明細",id:2}]:10==t.status?this.selectActionArr=[{name:"明細",id:2},{name:"取消掛單",id:3}]:this.selectActionArr=[{name:"明細",id:2}],this.id=t.id,this.showTradeInfo=!0},fnConfirmSave:function(){var t=this;this.num?0!=this.num?this.num<0?this.$toast("平仓數量不能小於0！"):Number(this.num)>Number(this.item_obj.mairu_num)?this.$toast("平仓數量不能大於持有數量！"):Object(o["x"])({quser_id:localStorage.getItem("userId"),id:this.id,num:1e3*this.num,price:this.price}).then((function(e){200==e.code&&(t.$toast(e.msg),t.sure_dia=!1)})):this.$toast("平仓數量不能为0！"):this.$toast("平仓數量不能为空！")},fnSelectAction:function(t){var e=this;console.log(t),console.log(this.id);if(1==t.id){var a=this.item_obj;this.pc_title="當前持有 ".concat(a.mairu_num/1e3," 張 ").concat(a.sectorName," ").concat(a.symbol,"，要平倉多少張？"),this.sure_dia=!0}2==t.id&&(this.$router.push({name:"trade_info",query:{id:this.id}}),localStorage.setItem("trade_tab_active",2)),3==t.id&&Object(o["v"])({quser_id:localStorage.getItem("userId"),id:this.id}).then((function(t){200==t.code&&(e.$toast(t.msg),setTimeout((function(){e.$emit("fnBackTab",3)}),1e3))}))},fnLoadListed:function(){var t=this;Object(o["y"])({page:this.listed_obj.page,status:this.listed_obj.status,quser_id:localStorage.getItem("userId")}).then((function(e){if(t.listed_loading=!1,200==e.code){if(1==t.listed_obj.page?t.listed_arr=e.data:t.listed_arr=t.listed_arr.concat(e.data),t.listed_obj.page++,e.data.length<20)return void(t.listed_finished=!0)}else t.listed_finished=!0}))}},created:function(){var t=this,e=this.tabActive,a="";2==e&&(a="",this.time_interval=setInterval((function(){t.listed_obj.page--,t.fnLoadListed()}),5e3)),3==e&&(a="4"),this.listed_obj.status=a,this.fnLoadListed()},destroyed:function(){clearInterval(this.time_interval)}},b=m,h=(a("fe0f"),Object(d["a"])(b,f,v,!1,null,"24d7eda6",null)),g=h.exports,p={name:"login",components:{tab1_purchase:_,tab2_ongoing:g},data:function(){return{tabActive:1}},methods:{fnBackTab:function(t){if(t)this.tabActive=t;else{var e=Number(localStorage.getItem("trade_tab_active"));e&&(this.tabActive=e),setTimeout((function(){localStorage.removeItem("trade_tab_active")}),1e3)}}},created:function(){this.fnBackTab()}},y=p,C=Object(d["a"])(y,s,n,!1,null,null,null);e["default"]=C.exports},7232:function(t,e,a){},"8dd2":function(t,e,a){},a886:function(t,e,a){},a9e3:function(t,e,a){"use strict";var s=a("83ab"),n=a("da84"),i=a("e330"),r=a("94ca"),o=a("cb2d"),l=a("1a2d"),c=a("7156"),d=a("3a9b"),u=a("d9b5"),_=a("c04e"),f=a("d039"),v=a("241c").f,m=a("06cf").f,b=a("9bf2").f,h=a("408a"),g=a("58a8").trim,p="Number",y=n[p],C=y.prototype,I=n.TypeError,j=i("".slice),x=i("".charCodeAt),A=function(t){var e=_(t,"number");return"bigint"==typeof e?e:k(e)},k=function(t){var e,a,s,n,i,r,o,l,c=_(t,"number");if(u(c))throw I("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=g(c),e=x(c,0),43===e||45===e){if(a=x(c,2),88===a||120===a)return NaN}else if(48===e){switch(x(c,1)){case 66:case 98:s=2,n=49;break;case 79:case 111:s=8,n=55;break;default:return+c}for(i=j(c,2),r=i.length,o=0;o<r;o++)if(l=x(i,o),l<48||l>n)return NaN;return parseInt(i,s)}return+c};if(r(p,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,T=function(t){var e=arguments.length<1?0:y(A(t)),a=this;return d(C,a)&&f((function(){h(a)}))?c(Object(e),a,T):e},S=s?v(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),N=0;S.length>N;N++)l(y,w=S[N])&&!l(T,w)&&b(T,w,m(y,w));T.prototype=C,C.constructor=T,o(n,p,T)}},fe0f:function(t,e,a){"use strict";a("8dd2")}}]);