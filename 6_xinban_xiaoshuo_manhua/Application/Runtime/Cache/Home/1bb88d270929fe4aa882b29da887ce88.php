<?php if (!defined('THINK_PATH')) exit();?><!DOCTYPE html>
<!-- saved from url=(0041)https://m.efucms.com/book/10227/9147/ -->
<html data-dpr="1" style="font-size: 43.1px;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title><?php echo ($_CFG['site']['name']); ?></title>
    <meta name="keywords" content="兽性老公轻点爱,樱前线,兽性老公轻点爱在线漫画,兽性老公轻点爱漫画全集,顾可馨,总裁,恋爱,老公,帝豪,总裁的契约情人,污漫,腹黑,明星,太子,娇妻,危险性游戏,纯情丫头火辣辣,隔墙有男神,樱前线,樱前线,小说漫画源码">
    <meta name="description" content="兽性老公轻点爱,第1话 一千万，给我生个孩子,樱前线,惨！ 一夜错情，她被只手遮天的太子爷全城通缉！顾可馨双手护住自己，结结巴巴：“我，我只是一个飞机场！” 太子爷将之扑倒，邪魅一笑：“乖，摸摸大，给我生一个孩子……” 这是一个腹黑太子爷，狂宠小娇妻没羞没臊的婚后日常~">
    <!-- 共用引入资源.开始 -->

    <script src="/Public/home/mhjs/stats.js" name="MTAH5" sid="500462993"></script>
    <meta name="viewport" content="designWidth=750,width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- 防止加载lib.flexible加载的时候文字由大变小的闪烁 -->
    <style>html,body{font-size:12px;}</style>
    <!-- lib.flexible 移动端相对适应比例 必须在浏览器head类 -->
    <script type="text/javascript">
        !function (a, b) { function c() { var b = f.getBoundingClientRect().width; b / i > 540 && (b = 540 * i); var c = b / 10; f.style.fontSize = c + "px", k.rem = a.rem = c } var d, e = a.document, f = e.documentElement, g = e.querySelector('meta[name="viewport"]'), h = e.querySelector('meta[name="flexible"]'), i = 0, j = 0, k = b.flexible || (b.flexible = {}); if (g) {  var l = g.getAttribute("content").match(/initial\-scale=([\d\.]+)/); l && (j = parseFloat(l[1]), i = parseInt(1 / j)) } else if (h) { var m = h.getAttribute("content"); if (m) { var n = m.match(/initial\-dpr=([\d\.]+)/), o = m.match(/maximum\-dpr=([\d\.]+)/); n && (i = parseFloat(n[1]), j = parseFloat((1 / i).toFixed(2))), o && (i = parseFloat(o[1]), j = parseFloat((1 / i).toFixed(2))) } } if (!i && !j) { var p = (a.navigator.appVersion.match(/android/gi), a.navigator.appVersion.match(/iphone/gi)), q = a.devicePixelRatio; i = p ? q >= 3 && (!i || i >= 3) ? 3 : q >= 2 && (!i || i >= 2) ? 2 : 1 : 1, j = 1 / i } if (f.setAttribute("data-dpr", i), !g) if (g = e.createElement("meta"), g.setAttribute("name", "viewport"), g.setAttribute("content", "initial-scale=" + 1 + ", maximum-scale=" + 1 + ", minimum-scale=" + 1 + ", user-scalable=no"), f.firstElementChild) f.firstElementChild.appendChild(g); else { var r = e.createElement("div"); r.appendChild(g), e.write(r.innerHTML) } a.addEventListener("resize", function () { clearTimeout(d), d = setTimeout(c, 300) }, !1), a.addEventListener("pageshow", function (a) { a.persisted && (clearTimeout(d), d = setTimeout(c, 300)) }, !1), "complete" === e.readyState ? e.body.style.fontSize = 12 * i + "px" : e.addEventListener("DOMContentLoaded", function () { e.body.style.fontSize = 12 * i + "px" }, !1), c(), k.dpr = a.dpr = i, k.refreshRem = c, k.rem2px = function (a) { var b = parseFloat(a) * this.rem; return "string" == typeof a && a.match(/rem$/) && (b += "px"), b }, k.px2rem = function (a) { var b = parseFloat(a) / this.rem; return "string" == typeof a && a.match(/px$/) && (b += "rem"), b } }(window, window.lib || (window.lib = {}));
    </script>
    <link rel="stylesheet" type="text/css" href="/Public/home/mhcss/style.min.css">
	<link rel="stylesheet" type="text/css" href="/Public/home/css/vendor.css">
    <script type="text/javascript" src="/Public/home/mhjs/fundebug.0.1.7.min.js" apikey="ba3a0e0d938e92b44f279067dffb8d071ee87fc35eb75918b7a900e8581a955d"></script>
    <script type="text/javascript" src="/Public/home/mhjs/jquery.js"></script>
    <!-- 共用引入资源.结束 -->
    <script type="text/javascript" src="/Public/home/mhjs/saved_resource"></script>
	<script type="text/javascript" src="/Public/home/js/newWindow.js"></script>
	<script type="text/javascript" src="/Public/js/jquery.lazyload.min.js"></script>
</head>
<body style="font-size: 12px;">
<div class="rt-bar" style="position: absolute">
    <div class="row">
        <div class="col icon">
            <a href="<?php echo U('Mh/bookinfo');?>&mhid=<?php echo ($mhid); ?>">
                <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><path d="M29.56 39.47a2 2 0 0 1-1.38-.56L8.45 20 28.17 1.09A2 2 0 1 1 30.94 4L14.23 20l16.71 16a2 2 0 0 1-1.38 3.44z" fill="#ff730a"></path></svg>
            </a>
        </div>
        <div class="col title">第<?php echo ($jiinfo["ji_no"]); ?>话 <?php echo ($jiinfo["title"]); ?></div>
        <div class="col link">
            <a href="<?php echo U('Mh/bookinfo');?>&mhid=<?php echo ($jiinfo["mhid"]); ?>&xji=1">全集</a>
        </div>
    </div>
</div>
<article class="read-article">
    <?php if(is_array($arr_pics)): $i = 0; $__LIST__ = $arr_pics;if( count($__LIST__)==0 ) : echo "" ;else: foreach($__LIST__ as $key=>$vo): $mod = ($i % 2 );++$i;?><figure class="item" style="">
        <img class="show-menu" src="<?php echo ($vo); ?>" data-id="2" data-original="<?php echo ($vo); ?>" style="background: rgb(238, 238, 238); display: block;">
    </figure><?php endforeach; endif; else: echo "" ;endif; ?>
</article>

<style>
.zshu{
	text-align: center;
}
.zshu a{
	display: block;
    padding: .2rem .5rem;
    border: 1px solid #F44336;
    background: #F44336;
    width: 40%;
    color: #fff;
    margin: 1rem auto 0rem auto;
    border-radius: .3rem;
    font-size: .38rem;
    text-align: center;
}
</style>
<div class="read-footer">
	<div class="zshu">
		<a href="javascript:;" onclick="$('.pos').show();">追书</a>
	</div>
    <div class="row">
        <div class="col" onclick="collect(<?php echo ($mhid); ?>);">
            <a href="javascript:void(0);" id="collect" <?php if($collect > 0): ?>class="shelf active"<?php else: ?>class="shelf"<?php endif; ?> style="-webkit-tap-highlight-color: rgba(0,0,0,0);">
                <i class="icon-fav"></i>收藏
            </a>
        </div>
        <div class="col">
            <a href="<?php echo U('Mh/bookinfo');?>&mhid=<?php echo ($jiinfo["mhid"]); ?>&isji=1" style="-webkit-tap-highlight-color: rgba(0,0,0,0);">
                <i class="icon-dir"></i>目录
            </a>
        </div>
        <div class="col" onclick="chapter_dianzan(<?php echo ($mhid); ?>, <?php echo ($ji_no); ?>);">
            <a href="javascript:;"  id="showcoll" <?php if($likes > 0): ?>class="zan active"<?php else: ?>class="zan"<?php endif; ?> style="-webkit-tap-highlight-color: rgba(0,0,0,0);">
                <i class="icon-good"></i>赞
                <span id="showlikesnum"><?php echo ($jiinfo["likes"]); ?></span>
            </a>
        </div>
    </div>

    
	<div class="control clearfix">
        <div class="item prev">
        <?php
 $before = $jiinfo['before']; if($before <= 1) { $before = 1; } $next = $jiinfo['next']; $money = M('mh_episodes')->where(array('ji_no'=>$next,'mhid'=>$mhinfo['id']))->getField('money'); $money = $money?$money:$_site['jimoney']; $read = M('mh_read')->where(array('ji_no'=>$next,'mhid'=>$mhinfo['id'],'user_id'=>$user['id']))->find(); ?>
            <a href="<?php echo U('Mh/inforedit');?>&mhid=<?php echo ($mhid); ?>&ji_no=<?php echo ($before); ?>" onclick="return checkSub();"><i></i>上一话</a>
        </div>
        <div class="item next">
			<?php if($next >= $mhinfo['pay_num'] and $mhinfo['pay_num'] > 0): if($read): ?><a href="<?php echo U('Mh/inforedit');?>&mhid=<?php echo ($mhid); ?>&ji_no=<?php echo ($next); ?>&sub=<?php echo ($_GET['sub']); ?>" onclick="return checkSub();">下一话<i></i></a>
				<?php else: ?>
					<a href="<?php echo U('Mh/inforedit');?>&mhid=<?php echo ($mhid); ?>&ji_no=<?php echo ($next); ?>&sub=<?php echo ($_GET['sub']); ?>" onclick="return checkSub();">下一话<i></i></a><?php endif; ?>
			<?php else: ?>
				<a href="<?php echo U('Mh/inforedit');?>&mhid=<?php echo ($mhid); ?>&ji_no=<?php echo ($next); ?>&sub=<?php echo ($_GET['sub']); ?>" onclick="return checkSub();">下一话<i></i></a><?php endif; ?>
        </div>
    </div>
</div>

<style>
	.pos{width:100%;height:100%;position:fixed;left:0;top:0;z-index: 9999;display:none}
	.pos .msk{background:#000;width:100%;height:100%;opacity: .5;}
	.pos .ctn{background:#fff;width:90%;min-height:360px;position:absolute;bottom:20%;left:5%;border-radius:4px;}
	.pos .ctn .title1{margin:10px 0 0 0;width:100%;height:50px;line-height:50px;text-align:center;font-size:16px;color:#1f1c1b}
	.pos .ctn .title2{width:200px;margin:0 auto;height:30px;line-height:30px;text-align:center;font-size:16px;color:#F44336}
	.pos .ctn .title3{width:200px;margin:0 auto;height:50px;line-height:50px;text-align:center;font-size:16px;color:#000}
	.pos .ctn .timg{width:100%;margin:10px auto 0px auto;text-align: center;border-bottom:1px solid #ddd;}
	.pos .ctn .timg img{width:200px;margin:0 auto;height:200px;}
	.pos .ctn a{display: block;width: 100%;text-align: center;height: 45px;line-height:45px;font-size: 16px;color: #189a1d;}
	
	.picpos{width:100%;height:100%;position:fixed;left:0;top:0;z-index: 9999;display:none}
	.picpos .msk{background:#000;width:100%;height:100%;opacity: .5;}
	.picpos .ctn{background: #fff;width: 90%;position: fixed;bottom: 15%;left: 5%;border-radius: 10px;height: 70%;}
	.picpos .ctn img{width:100%;height:100%;border-radius:10px;}
	.picpos .ctn .close{position: absolute;right: 5px;top: 5px;width: 25px;height: 25px;}
</style>

<div class="pos">
	<div class="msk"></div>
	<div class="ctn">
		<div class="title1">长按识别作者授权公众号继续阅读</div>
		<div class="title2">由于版权问题，</div>
		<div class="title2">请扫下方二维码继续阅读</div>
		<div class="timg">
			<?php if($member): ?><img src="<?php echo ($member['gqrcode']); ?>" />
			<?php else: ?>
			<img src="<?php echo ($_site['qrcode']); ?>" /><?php endif; ?>
			<div class="title3">长按上图识别二维码</div>
		</div>		
		<a href="javascript:$('.pos').hide();">确定</a>
	</div>
</div>

<div class="picpos">
	<div class="msk" onclick="$('.picpos').hide();"></div>
	<div class="ctn">
		<img src="<?php echo ($adsPic); ?>" />
		<img  class="close" src="/Public/images/close.png" onclick="$('.picpos').hide();" />
	</div>
</div>

<div class="circle-box">
	<a>
    </a>
</div>


<div class="bm-box mt-10" style="margin-bottom:3rem;">
	<div class="bubble">
		<span>打赏</span>
		<hr>
		<span class="sum_of_tip"><?php echo ($mhinfo['send']); ?>书币</span>
	</div>
	<a class="btn-tip-menu" href="javascript:;">打赏</a>	
</div>
<div class="ds">
	<div class="msk" onclick="dsHide();"></div>
	<div class="txt">
		<div class="title">打赏</div>
		<div class="send">
			<ul>
				<?php if(is_array($_send)): foreach($_send as $k=>$v): ?><li _sid="<?php echo ($k); ?>">
						<img src="<?php echo ($v["pic"]); ?>" />
						<span><?php echo ($v["money"]); ?>书币</span>
					</li><?php endforeach; endif; ?>
			</ul>
		</div>
		<div class="dbtn" onclick="dsHide();">取消</div>
	</div>
</div>

<a href="<?php echo U('Book/jubao',array('rid'=>$mhinfo['id'],'type'=>'mh'));?>" style=" position: fixed;right: 5px;bottom: 20%;width: 50px;height: 50px;border-radius: 50%;background-color: rgba(0,0,0,.4);display: block;">
	<img src="/Public/images/jubao.png" style="width:100%;height:100%;" />
</a>

<script type="text/javascript">
	$(function(){
		var showAds = "<?php echo ($showAds); ?>";
			adsPic = "<?php echo ($adsPic); ?>";
		if(showAds == "1" && adsPic !=""){
			$('.picpos').show();
		}
	})

	function chapter_dianzan(mhid, ji_no) {
		var url1 = '<?php echo U("Mh/chapter_dianzan_ajax");?>';
		var data1 = {mhid:mhid,ji_no:ji_no};
		var fun1 = function(data2){
			if(data2.status == 1) {
				var showlikesnum = parseInt($("#showlikesnum").html());
				if(data2.tag == 1) {
					$("#showcoll").addClass("active");
					$("#showlikesnum").html(showlikesnum+1);
				} else {
					$("#showcoll").removeClass("active");
					$("#showlikesnum").html(showlikesnum-1);
				}
			} else {
				alert(data2.info);
				location.href = "index.php?m=Home&c=MhPublic&a=login";
			}
		}
		$.post(url1,data1,fun1,'json');
	}


	function collect(mhid){
		var url = '<?php echo U("Mh/user_add_book_shelf_ajax");?>';
		var data = {mhid:mhid}
		var fun1 = function(data2){
			if(data2.status == 1) {
				if(data2.tag == 1) {
					$("#collect").addClass("active");
				} else {
					$("#collect").removeClass("active");
				}
			} else {
				alert(data2.info);
				location.href = "index.php?m=Home&c=MhPublic&a=login";
			}
		}
		$.post(url,data,fun1,'json');
	}

	$(function() {  
		$("img.lazy").lazyload();

		$('.btn-tip-menu').click(function(){
			$(".ds").fadeIn(300);
		})
		
		$('.ds li').click(function(){
			if(confirm("确定要打赏么？")){
				var sid = $(this).attr("_sid");
					mxid = "<?php echo ($jiinfo['mhid']); ?>";
				$.post("<?php echo U('Book/mxSend');?>",{sid:sid,mxid:mxid,type:"mh"},function(d){
					if(d){
						if(d.status){
							dsHide();
							alert(d.info);
							location.reload();
						}else{
							if(confirm(d.info)){
								location.href = d.url;
							}else{
								dsHide();
							}
						}
					}else{
						alert('非法请求!');
						dsHide();
					}
				})
			}else{
				dsHide();
			}
		})
			
	});
	
	function dsHide(){
		$(".ds").fadeOut(300);
	}
	
	
	var sub = "<?php echo ($_GET['sub']); ?>";
	var isub = "<?php echo ($sub); ?>";
	function checkSub(){
		if(isub !=""){
			if(parseInt(sub) <= parseInt("<?php echo ($_GET['ji_no']); ?>")){
				$('.pos').show();
				return false;
			}
		}
		return true;
	}

    $(function(){
        var winSTbefore=0;//声明一个变量，用于装触发scroll事件的上一个scrollTop
        function monitor(){
            var winH = window.innerHeight;    //获取浏览器窗口高度，若要支持IE需要在此处做兼容
            var winST = $(window).scrollTop();  //获取scrollTop
            var docH=$(document).height();  //获取文档高度
            var arr=[winH,winST,docH];
            return arr;
        }
        monitor();

        $(window).scroll(function(){
            var arr=monitor();
            var winH=arr[0];
            var winST = arr[1];
            var docH = arr[2];
            if(winST<=winH/10){
                $('.chapter-menu').hide(); //在首屏时隐藏
                $('.rt-bar').removeClass('flt');
                $('.rt-bar').css('position','absolute');
            }else if(winST+winH>=docH){
                $('.chapter-menu').hide(); //到达底部时隐藏
                $('.rt-bar').removeClass('flt');
                $('.rt-bar').css('position','absolute');
            }else if(winST>winSTbefore){
                $('.chapter-menu').hide();    //向下滑动时隐藏
                $('.rt-bar').removeClass('flt');
                $('.rt-bar').css('position','absolute');
            }else if(winST<winSTbefore){
                $('.chapter-menu').show(); //向上滑动时显示
                $('.rt-bar').addClass('flt');
                $('.rt-bar').css('position','fixed');
            }
            winSTbefore=winST;  //更新winSTbefore的值
        });

        $('.show-menu').click(function(){
            if($('.rt-bar').hasClass('flt')){
                $('.chapter-menu').hide();
                $('.rt-bar').removeClass('flt');
                $('.rt-bar').css('position','absolute');
            }else{
                $('.chapter-menu').show();
                $('.rt-bar').addClass('flt');
                $('.rt-bar').css('position','fixed');
            }
        });
    });
</script>


<script>
	window.shareData = {
		img: "<?php echo (complete_url($mhinfo['share_pic'])); ?>", 
		link: "<?php echo complete_url(U('inforedit',http_build_query(array_merge(array('uid' => encode($user['id']),'mhinfo'=>$info['id'],'ji_no'=>$_GET['ji_no']),$_GET))));?>",
		title: "<?php echo ($mhinfo['share_title']); ?>",
		desc: "<?php echo ($mhinfo['share_desc']); ?>",
	};	
</script>
	<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
	<script>
	wx.config({
		debug: false,
		appId: "<?php echo ($jssdk['appId']); ?>",
		timestamp: <?php echo ($jssdk['timestamp']); ?>,
		nonceStr: '<?php echo ($jssdk['nonceStr']); ?>',
		signature: '<?php echo ($jssdk['signature']); ?>',
		jsApiList: ['onMenuShareTimeline','onMenuShareAppMessage']
	});
	wx.ready(function () {
		wx.checkJsApi({
			jsApiList: ['onMenuShareTimeline','onMenuShareAppMessage'], // 需要检测的JS接口列表，所有JS接口列表见附录2,
			success: function(res) {
				//alert(JSON.stringify(res));
			}
		});
		wx.error(function(res){
			console.log('err:'+JSON.stringify(res));
			// config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。

		});
		//分享给朋友
		wx.onMenuShareAppMessage({
			title: window.shareData.title, // 分享标题
			desc: window.shareData.desc, // 分享描述
			link: window.shareData.link, // 分享链接
			imgUrl: window.shareData.img, // 分享图标
			type: 'link', // 分享类型,music、video或link，不填默认为link
			dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
			success: function () { 
			},
			cancel: function () { 
				
			}
		});
		//分享到朋友圈
		wx.onMenuShareTimeline({
			title: window.shareData.title, // 分享标题
			link: window.shareData.link, // 分享链接
			imgUrl: window.shareData.img, // 分享图标
			success: function () { 
				// 用户确认分享后执行的回调函数
			},
			cancel: function () { 
				// 用户取消分享后执行的回调函数
			}
		});
	});
	</script>
	<?php echo ($_CFG["site"]["thirdcode"]); ?>
</body>
</html>