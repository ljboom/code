(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shichang-shichang"],{"0bb5":function(n,r,t){"use strict";t.d(r,"b",(function(){return i})),t.d(r,"c",(function(){return a})),t.d(r,"a",(function(){return e}));var e={uTabsSwiper:t("598e").default,uIcon:t("e01e").default,uEmpty:t("a979").default,uPopup:t("717c").default},i=function(){var n=this,r=n.$createElement,t=n._self._c||r;return t("v-uni-view",[t("v-uni-view",{staticClass:"wrap"},[t("v-uni-view",{staticClass:"u-tabs-box"},[t("u-tabs-swiper",{ref:"tabs",attrs:{activeColor:"#f29100",list:n.list,current:n.current,"is-scroll":!1,swiperWidth:"750"},on:{change:function(r){arguments[0]=r=n.$handleEvent(r),n.change.apply(void 0,arguments)}}})],1),t("v-uni-swiper",{staticClass:"swiper-box",attrs:{current:n.swiperCurrent},on:{transition:function(r){arguments[0]=r=n.$handleEvent(r),n.transition.apply(void 0,arguments)},animationfinish:function(r){arguments[0]=r=n.$handleEvent(r),n.animationfinish.apply(void 0,arguments)},change:function(r){arguments[0]=r=n.$handleEvent(r),n.change.apply(void 0,arguments)}}},[t("v-uni-swiper-item",{staticClass:"swiper-item"},[t("v-uni-view",{staticStyle:{width:"100%",height:"60rpx","background-color":"bisque",display:"flex","align-items":"center","justify-content":"center","font-size":"16px"}},[t("v-uni-view",{on:{click:function(r){arguments[0]=r=n.$handleEvent(r),n.classifyShowClick(2)}}},[t("u-icon",{staticStyle:{"margin-right":"15rpx"},attrs:{name:"grid-fill"}}),t("v-uni-text",{staticStyle:{"font-weight":"bolder"}},[n._v(n._s(n.classifyName))]),t("u-icon",{directives:[{name:"show",rawName:"v-show",value:!n.classifyShow,expression:"!classifyShow"}],staticStyle:{"margin-left":"15rpx"},attrs:{name:"arrow-down"}}),t("u-icon",{directives:[{name:"show",rawName:"v-show",value:n.classifyShow,expression:"classifyShow"}],staticStyle:{"margin-left":"15rpx"},attrs:{name:"arrow-up"}})],1)],1),n.$u.test.isEmpty(n.gupiao[1])?t("u-empty",{attrs:{text:"暂无数据",mode:"list"}}):n._e(),t("v-uni-scroll-view",{staticStyle:{height:"100%",width:"100%"},attrs:{"scroll-y":!0}},[t("v-uni-view",{staticClass:"page-box"},[t("v-uni-view",{staticClass:"zhishu_list"},n._l(n.gupiao[1],(function(r,e){return t("v-uni-view",{key:r.id,staticClass:"item u-flex",class:n.honglv(r.zhangdiebaifenbi),on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.goDetail(r.id)}}},[t("v-uni-view",{staticClass:"u-flex-2"},[t("v-uni-view",{staticClass:"u-main-color u-font-32"},[n._v(n._s(r.name))]),t("v-uni-view",{staticClass:"u-light-color u-font-20"},[n._v(n._s(r.shuzidaima))])],1),t("v-uni-view",{staticClass:"u-flex-1 u-text-right price"},[n._v(n._s(r.price))]),t("v-uni-view",{staticClass:"u-flex-1 u-text-right"},[t("v-uni-text",{staticClass:"baifenbi"},[r.zhangdiebaifenbi>0?t("v-uni-text",[n._v("+")]):n._e(),n._v(n._s(r.zhangdiebaifenbi))],1)],1)],1)})),1)],1)],1)],1),t("v-uni-swiper-item",{staticClass:"swiper-item"},[t("v-uni-scroll-view",{staticStyle:{height:"100%",width:"100%"},attrs:{"scroll-y":!0}},[t("v-uni-view",{staticClass:"page-box"},[t("v-uni-view",{staticClass:"zhishu_list"},n._l(n.zixuan,(function(r,e){return t("v-uni-view",{key:r.id,staticClass:"item u-flex",class:n.honglv(r.product.zhangdiebaifenbi),on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.goDetail(r.product.id)}}},[t("v-uni-view",{staticClass:"u-flex-2"},[t("v-uni-view",{staticClass:"u-main-color u-font-32"},[n._v(n._s(r.product.name))]),t("v-uni-view",{staticClass:"u-light-color u-font-20"},[n._v(n._s(r.product.shuzidaima))])],1),t("v-uni-view",{staticClass:"u-flex-1 u-text-right price"},[n._v(n._s(r.product.price))]),t("v-uni-view",{staticClass:"u-flex-1 u-text-right"},[t("v-uni-text",{staticClass:"baifenbi"},[r.product.zhangdiebaifenbi>0?t("v-uni-text",[n._v("+")]):n._e(),n._v(n._s(r.product.zhangdiebaifenbi))],1)],1)],1)})),1)],1)],1)],1)],1)],1),t("u-popup",{attrs:{mode:"bottom","safe-area-inset-bottom":!0},on:{close:function(r){arguments[0]=r=n.$handleEvent(r),n.classifyClose.apply(void 0,arguments)}},model:{value:n.classifyShow,callback:function(r){n.classifyShow=r},expression:"classifyShow"}},[t("v-uni-scroll-view",{staticStyle:{height:"800rpx",width:"100%","background-color":"#FFE4C4"},attrs:{"scroll-y":"true"}},[t("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",padding:"15rpx","box-sizing":"border-box"}},n._l(n.classifyList,(function(r,e){return t("v-uni-view",{key:e,class:r.name==n.classifyName?"classify-item-selectd":"classify-item",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.setClassify(r.id,r.name)}}},[n._v(n._s(r.name))])})),1)],1)],1)],1)},a=[]},1601:function(n,r,t){var e=t("24fb");r=e(!1),r.push([n.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-empty[data-v-27d61a1e]{display:flex;flex-direction:row;flex-direction:column;justify-content:center;align-items:center;height:100%}.u-image[data-v-27d61a1e]{margin-bottom:%?20?%}.u-slot-wrap[data-v-27d61a1e]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:%?20?%}',""]),n.exports=r},"1e86":function(n,r,t){"use strict";var e=t("5dd3"),i=t.n(e);i.a},"1fd3":function(n,r,t){var e=t("488e");"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var i=t("4f06").default;i("304a29c4",e,!0,{sourceMap:!1,shadowMode:!1})},"3b8a":function(n,r,t){"use strict";var e=t("1fd3"),i=t.n(e);i.a},"488e":function(n,r,t){var e=t("24fb");r=e(!1),r.push([n.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",""]),n.exports=r},"5dd3":function(n,r,t){var e=t("fc95");"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var i=t("4f06").default;i("e221e070",e,!0,{sourceMap:!1,shadowMode:!1})},7754:function(n,r,t){"use strict";t.r(r);var e=t("ea5c"),i=t.n(e);for(var a in e)"default"!==a&&function(n){t.d(r,n,(function(){return e[n]}))}(a);r["default"]=i.a},"7b23":function(n,r,t){"use strict";t.d(r,"b",(function(){return i})),t.d(r,"c",(function(){return a})),t.d(r,"a",(function(){return e}));var e={uIcon:t("e01e").default},i=function(){var n=this,r=n.$createElement,t=n._self._c||r;return n.show?t("v-uni-view",{staticClass:"u-empty",style:{marginTop:n.marginTop+"rpx"}},[t("u-icon",{attrs:{name:n.src?n.src:"empty-"+n.mode,"custom-style":n.iconStyle,label:n.text?n.text:n.icons[n.mode],"label-pos":"bottom","label-color":n.color,"label-size":n.fontSize,size:n.iconSize,color:n.iconColor,"margin-top":"14"}}),t("v-uni-view",{staticClass:"u-slot-wrap"},[n._t("bottom")],2)],1):n._e()},a=[]},"83ea":function(n,r,t){"use strict";t("a9e3"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e={name:"u-empty",props:{src:{type:String,default:""},text:{type:String,default:""},color:{type:String,default:"#c0c4cc"},iconColor:{type:String,default:"#c0c4cc"},iconSize:{type:[String,Number],default:120},fontSize:{type:[String,Number],default:26},mode:{type:String,default:"data"},imgWidth:{type:[String,Number],default:120},imgHeight:{type:[String,Number],default:"auto"},show:{type:Boolean,default:!0},marginTop:{type:[String,Number],default:0},iconStyle:{type:Object,default:function(){return{}}}},data:function(){return{icons:{car:"购物车为空",page:"页面不存在",search:"没有搜索结果",address:"没有收货地址",wifi:"没有WiFi",order:"订单为空",coupon:"没有优惠券",favor:"暂无收藏",permission:"无权限",history:"无历史记录",news:"无新闻列表",message:"消息列表为空",list:"列表为空",data:"数据为空"}}}};r.default=e},"86ec":function(n,r,t){"use strict";t.r(r);var e=t("83ea"),i=t.n(e);for(var a in e)"default"!==a&&function(n){t.d(r,n,(function(){return e[n]}))}(a);r["default"]=i.a},a979:function(n,r,t){"use strict";t.r(r);var e=t("7b23"),i=t("86ec");for(var a in i)"default"!==a&&function(n){t.d(r,n,(function(){return i[n]}))}(a);t("d452");var s,o=t("f0c5"),u=Object(o["a"])(i["default"],e["b"],e["c"],!1,null,"27d61a1e",null,!1,e["a"],s);r["default"]=u.exports},d452:function(n,r,t){"use strict";var e=t("e1f6"),i=t.n(e);i.a},e1f6:function(n,r,t){var e=t("1601");"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var i=t("4f06").default;i("20135093",e,!0,{sourceMap:!1,shadowMode:!1})},e91c:function(n,r,t){"use strict";t.r(r);var e=t("0bb5"),i=t("7754");for(var a in i)"default"!==a&&function(n){t.d(r,n,(function(){return i[n]}))}(a);t("3b8a"),t("1e86");var s,o=t("f0c5"),u=Object(o["a"])(i["default"],e["b"],e["c"],!1,null,"48ee4846",null,!1,e["a"],s);r["default"]=u.exports},ea5c:function(n,r,t){"use strict";var e=t("4ea4");t("fb6a"),t("d3b7"),t("acd8"),t("e25e"),t("ac1f"),t("1276"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,t("96cf");var i=e(t("1da1")),a={data:function(){return{classifyShow:!1,gupiao:[[],[],[],[]],xingu:[],zixuan:[],options1:[],title:"",cate_id:0,list:[{name:"上櫃"},{name:"自選"}],current:0,swiperCurrent:0,tabsHeight:0,dx:0,loadStatus:["loadmore","loadmore","loadmore","loadmore"],ZhishusocketTask:null,timer:null,classifyList:[],classifyName:"",classifyId:""}},onLoad:function(n){var r=this;return(0,i.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.getClassifyList(2);case 2:r.classifyName=r.classifyList[0].name,r.classifyId=r.classifyList[0].id,r.getGupiaoList(),r.getXingu();case 6:case"end":return n.stop()}}),n)})))()},onUnload:function(){this.ZhishusocketTask.close(),this.ZhishusocketTask=null,clearInterval(this.timer)},onShow:function(){var n=this;n.getZixuan(),uni.getStorageSync("token")&&(this.timer=setInterval((function(){n.getZixuan(),n.getGupiaoList()}),12e3));var r=getApp().globalData.shichang;"zixuan"==r?setTimeout((function(){n.change(3)}),300):"shengou"==r&&setTimeout((function(){n.change(2)}),300),getApp().globalData.shichang=""},onHide:function(){this.ZhishusocketTask.close(),this.ZhishusocketTask=null,clearInterval(this.timer)},computed:{priceDecimal:function(){return function(n){return n!==parseInt(n)?n.slice(-2):"00"}},priceInt:function(){return function(n){return n!==parseInt(n)?n.split(".")[0]:n}}},methods:{setClassify:function(n,r){this.classifyName=r,this.classifyId=n,this.getGupiaoList()},getClassifyList:function(n){var r=this;return new Promise((function(t,e){r.$u.api.getClassIfy({pid:n}).then((function(n){r.classifyList=n,t(!0)}))}))},classifyClose:function(){this.classifyShow=!1},classifyShowClick:function(){this.classifyShow=!this.classifyShow},honglv:function(n){return n=parseFloat(n),n>0?"up":0==n?"ping":"down"},getSonCate:function(n){var r=this;this.$u.api.getSonCate({cate_id:n}).then((function(n){r.options1=n,r.title=r.options1[0].label,r.cate_id=r.options1[0].value,r.$forceUpdate(),r.getGupiaoList()}))},goDetail:function(n){var r=this;r.$u.route({url:"pagesA/gupiao/detail",params:{id:n}})},goXingu:function(n){if(1==n.status){var r=this;r.$u.route({url:"pagesA/xingu/detail",params:{id:n.id}})}else uni.showToast({title:"當前非可申購狀態",icon:"none"})},getGupiaoList:function(){var n=this;this.$u.api.getGupiaoList({cate_id:n.cate_id,classify_id:this.classifyId}).then((function(r){r.shangshi&&(n.gupiao[0]=r.shangshi),r.shanggui&&(n.gupiao[1]=r.shanggui),n.$forceUpdate()}))},getXingu:function(){var n=this;n.$u.api.getXingu({}).then((function(r){n.xingu=r,n.$forceUpdate()}))},getZixuan:function(){var n=this;n.$u.api.getZixuan({}).then((function(r){n.zixuan=r,n.$forceUpdate()}))},change:function(n){var r=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e="",e="number"===typeof n?n:n.detail.current,r.swiperCurrent=e,!(e<1)){t.next=10;break}return t.next=6,r.getClassifyList(2);case 6:r.classifyName=r.classifyList[0].name,r.classifyId=r.classifyList[0].id,t.next=11;break;case 10:r.classifyId=0;case 11:r.getGupiaoList();case 12:case"end":return t.stop()}}),t)})))()},transition:function(n){var r=n.detail.dx;this.$refs.tabs.setDx(r)},animationfinish:function(n){var r=n.detail.current;this.$refs.tabs.setFinishCurrent(r),this.swiperCurrent=r,this.current=r},closeDropdown:function(){this.$refs.uDropdown.close()}}};r.default=a},fc95:function(n,r,t){var e=t("24fb");r=e(!1),r.push([n.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */[data-v-48ee4846] .u-empty{margin-top:-90px!important}.classify-item[data-v-48ee4846]{width:25%;height:%?100?%;line-height:%?100?%;text-align:center;font-weight:bolder}.classify-item-selectd[data-v-48ee4846]{width:25%;height:%?100?%;line-height:%?100?%;text-align:center;font-weight:bolder;background-color:#18b566;color:#fff}.wrap[data-v-48ee4846]{display:flex;flex-direction:column;height:calc(100vh - var(--window-top));width:100%}.swiper-box[data-v-48ee4846]{flex:1}.swiper-item[data-v-48ee4846]{height:100%}.zhishu_list[data-v-48ee4846]{padding:%?30?%}.zhishu_list .item[data-v-48ee4846]{padding:%?20?% 0;border-bottom:1px solid #e5e5e5}.zhishu_list .item.up .price[data-v-48ee4846]{color:#fa3534}.zhishu_list .item.up .baifenbi[data-v-48ee4846]{color:#fff;background:#fa3534;padding:%?10?%;border-radius:%?10?%}.zhishu_list .item.down .price[data-v-48ee4846]{color:#18b566}.zhishu_list .item.down .baifenbi[data-v-48ee4846]{color:#fff;background:#18b566;padding:%?10?%;border-radius:%?10?%}.u-tabs-box[data-v-48ee4846]{border-bottom:%?1?% solid #e5e5e5}.red[data-v-48ee4846]{color:#fa3534}.blue[data-v-48ee4846]{color:#2979ff}.riqi[data-v-48ee4846]{border-radius:%?20?%;width:%?180?%;overflow:hidden;margin-right:%?30?%}.riqi .hd[data-v-48ee4846]{background:#fa3534;color:#fff;text-align:center;line-height:%?48?%}.riqi .bd[data-v-48ee4846]{background:#fdf6ec;color:#fa3534;text-align:center;line-height:%?60?%}.u-progress-content[data-v-48ee4846]{display:flex;align-items:center;justify-content:center}.u-progress-info[data-v-48ee4846]{font-size:%?20?%}.xingu_list .item[data-v-48ee4846]{border-bottom:%?1?% solid #e5e5e5}.xingu_list .item[data-v-48ee4846]:last-child{border-bottom:none}.dropdown_value[data-v-48ee4846]{margin-left:10px}',""]),n.exports=r}}]);