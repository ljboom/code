(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-mairu-mairu"],{"0303":function(t,i,e){"use strict";e.r(i);var n=e("8bdb"),o=e("9084");for(var a in o)"default"!==a&&function(t){e.d(i,t,(function(){return o[t]}))}(a);e("5d20");var r,s=e("f0c5"),u=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"29289273",null,!1,n["a"],r);i["default"]=u.exports},"03a5":function(t,i,e){"use strict";e.r(i);var n=e("95c1"),o=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a},2997:function(t,i,e){"use strict";(function(t){e("b65f"),e("acd8"),e("ac1f"),e("5319"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{show_buy_modal:!1,userinfo:{},gupiao:{id:"",name:"",price:0,zhangdieshu:0,zhangdiebaifenbi:0,open:0,close:0,high:0,low:0},form:{fangxiang:"duo",type:0,pro_id:0,buytype:1,price:0,shuliang:1},price_type:[{name:"半倉"},{name:"全倉"}],curNow:9,shizhi:0}},onLoad:function(t){this.getUserInfo(),this.getGupiaoDetail(t.gupiao_id)},methods:{numberFixedDigit:function(t){var i=this;t.target.value=t.target.value.replace(/^0|[^\d]|[.]/g,""),this.$nextTick((function(){i.form.shuliang=t.target.value}))},getUserInfo:function(){var i=this;this.$u.api.getUserInfo({user_id:this.user_id}).then((function(t){i.userinfo=t})).catch((function(e){t("log",e," at pagesA/mairu/mairu.vue:160"),401==e.statusCode&&i.$refs.uToast.show({title:e.data.msg,type:"warning",callback:function(){this.$u.route({url:"pages/index/index",type:"redirectTo"})}})}))},open_buy_modal:function(){this.show_buy_modal=!0},getGupiaoDetail:function(i){var e=this;this.$u.api.getGupiaoDetail({id:i}).then((function(i){e.form.pro_id=i.id,i.price=parseFloat(i.price),e.form.price=i.price,i.close=parseFloat(i.close),i.low=parseFloat(i.low),i.open=parseFloat(i.open),i.high=parseFloat(i.high),t("log",i," at pagesA/mairu/mairu.vue:189"),e.gupiao=i}))},sectionChange:function(t){this.curNow=t;var i=1e3*this.gupiao.price*this.gupiao.fwfv;if(1==t)this.form.shuliang=Math.trunc(this.userinfo.money/(1e3*this.gupiao.price+i));else{var e=this.userinfo.money/2;this.form.shuliang=Math.trunc(e/(1e3*this.gupiao.price)+i)}},addOrder:function(){var i=this;this.$u.api.buyGupiao(this.form).then((function(e){t("log",e," at pagesA/mairu/mairu.vue:205"),i.$refs.uToast.show({title:e.msg,type:"success"})}))}}};i.default=n}).call(this,e("0de9")["log"])},"425a":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,"uni-page-body[data-v-29289273]{min-height:100vh;background-color:#f7f7f7}.uni-page-body[data-v-29289273]{height:100%!important}.container[data-v-29289273]{margin:0 %?30?%;width:%?690?%;padding:0 0 %?50?%}.hd[data-v-29289273]{\n\t/* background-color: #fff; */color:#333}.hd .zixuan[data-v-29289273]{position:absolute;right:%?30?%;top:%?25?%;padding:%?20?% %?30?%;border-radius:%?20?%}.pankou .item[data-v-29289273]{margin:%?15?% 0}.checkbtn[data-v-29289273]{width:%?590?%;height:%?100?%;\n\t/* background: -webkit-gradient(linear, left top, right top, from(#ffbc66), to(#ff815e));\n\tbackground: -webkit-linear-gradient(left, #ffbc66, #ff815e); */background:#f55d48;-webkit-border-radius:%?50?%;border-radius:%?16?%;color:#fff;line-height:%?100?%;text-align:center;font-size:%?40?%;margin:%?30?% auto %?50?% auto}body.?%PAGE?%[data-v-29289273]{background-color:#f7f7f7}",""]),t.exports=i},5570:function(t,i,e){"use strict";e.r(i);var n=e("a883"),o=e("03a5");for(var a in o)"default"!==a&&function(t){e.d(i,t,(function(){return o[t]}))}(a);e("db38");var r,s=e("f0c5"),u=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"5d02c53e",null,!1,n["a"],r);i["default"]=u.exports},"5d20":function(t,i,e){"use strict";var n=e("ac99"),o=e.n(n);o.a},"8bdb":function(t,i,e){"use strict";e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return n}));var n={uIcon:e("7eee").default,uSubsection:e("5570").default,uToast:e("bd25").default,uModal:e("da34").default},o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticStyle:{height:"100%"}},[e("v-uni-view",{staticClass:"hd u-padding-30 u-relative",staticStyle:{"border-bottom":"1px solid #EFEFEF"}},[e("v-uni-view",{staticClass:"u-font-40",staticStyle:{display:"flex","align-items":"center"}},[e("u-icon",{staticStyle:{"margin-right":"30rpx"},attrs:{name:"../../static/more-fav.svg",size:"48"}}),e("v-uni-view",{staticStyle:{display:"flex","align-items":"center","flex-wrap":"wrap"}},[e("v-uni-view",{staticStyle:{"font-weight":"bolder",width:"100%"}},[t._v(t._s(t.gupiao.name))]),e("v-uni-view",{staticStyle:{"font-size":"14px",color:"#74747C",width:"100%"}},[t._v(t._s(t.gupiao.shuzidaima))])],1)],1),e("v-uni-view",{staticClass:"u-flex",staticStyle:{"margin-bottom":"10rpx","margin-top":"15rpx"}},[e("v-uni-view",{staticClass:"u-flex-1 u-font-36",staticStyle:{"font-size":"32px",display:"flex","justify-content":"space-between","align-items":"center"}},[e("v-uni-text",{style:t.gupiao.zhangdieshu>0?"color:red":"color:#19a844"},[t._v(t._s(t.gupiao.price))]),e("v-uni-view",{staticStyle:{"font-size":"14px"},style:t.gupiao.zhangdieshu>0?"color:red":"color:#19a844"},[t.gupiao.zhangdieshu>0?e("v-uni-text",[t._v("+")]):t._e(),t._v(t._s(t.gupiao.zhangdieshu))],1),e("v-uni-view",{staticStyle:{"font-size":"14px"},style:t.gupiao.zhangdieshu>0?"color:red":"color:#19a844"},[t.gupiao.zhangdiebaifenbi>0?e("v-uni-text",[t._v("+")]):t._e(),t._v(t._s(t.gupiao.zhangdiebaifenbi)+"%")],1)],1)],1)],1),e("v-uni-view",{staticStyle:{padding:"10rpx 30rpx","box-sizing":"border-box","border-bottom":"1px solid #EFEFEF"}},[e("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("v-uni-view",{staticStyle:{width:"50%"}},[t._v("買入價格")]),e("v-uni-view",{staticClass:"fontF",staticStyle:{width:"50%","text-align":"right","font-size":"12px",color:"#74747C"}},[t._v("按市場價買入")])],1),e("v-uni-view",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.gupiao.price))])],1),e("v-uni-view",{staticStyle:{padding:"10rpx 30rpx","box-sizing":"border-box","border-bottom":"1px solid #EFEFEF"}},[e("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("v-uni-view",{staticStyle:{width:"50%"}},[t._v("數量(張)")]),e("v-uni-view",{staticClass:"fontF",staticStyle:{width:"50%","text-align":"right","font-size":"12px",color:"#74747C"}},[t._v("1張=1000股")])],1),e("v-uni-view",{staticStyle:{"text-align":"center","margin-top":"15rpx","padding-bottom":"15rpx"}},[e("v-uni-input",{staticStyle:{width:"100%","background-color":"#EFEFEF",height:"28px","border-radius":"16rpx"},attrs:{type:"number"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.numberFixedDigit.apply(void 0,arguments)}},model:{value:t.form.shuliang,callback:function(i){t.$set(t.form,"shuliang",i)},expression:"form.shuliang"}})],1)],1),e("v-uni-view",{staticStyle:{padding:"10rpx 30rpx","box-sizing":"border-box","border-bottom":"1px solid #EFEFEF"}},[e("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("v-uni-view",{staticStyle:{width:"50%"}},[t._v("建倉金額")])],1),e("v-uni-view",{staticStyle:{"text-align":"center","margin-top":"15rpx","padding-bottom":"15rpx"}},[e("u-subsection",{attrs:{list:t.price_type,current:t.curNow,"active-color":"#fff","button-color":"#2979ff"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.sectionChange.apply(void 0,arguments)}}})],1)],1),e("v-uni-view",{staticStyle:{padding:"10rpx 30rpx","box-sizing":"border-box","border-bottom":"1px solid #EFEFEF"}},[e("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("v-uni-view",{staticStyle:{width:"50%"}},[t._v("市值")]),e("v-uni-view",{staticClass:"fontF",staticStyle:{width:"50%","text-align":"right","font-size":"12px",color:"#74747C"}},[t._v("元")])],1),e("v-uni-view",{staticStyle:{"text-align":"center","padding-bottom":"20rpx"}},[e("v-uni-view",{staticStyle:{"text-align":"center"}},[t._v(t._s(1e3*t.form.shuliang*t.gupiao.price)+"("+t._s(1e3*t.form.shuliang)+"股)")])],1)],1),e("v-uni-view",{staticStyle:{padding:"10rpx 30rpx","box-sizing":"border-box","border-bottom":"1px solid #EFEFEF"}},[e("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("v-uni-view",{staticStyle:{width:"50%"}},[t._v("服務費")]),e("v-uni-view",{staticClass:"fontF",staticStyle:{width:"50%","text-align":"right","font-size":"12px",color:"#74747C"}},[t._v("元")])],1),e("v-uni-view",{staticStyle:{"text-align":"center","padding-bottom":"20rpx"}},[e("v-uni-view",{staticStyle:{"text-align":"center"}},[t._v(t._s(1e3*t.form.shuliang*t.gupiao.price*t.gupiao.fwfv))])],1)],1),e("v-uni-view",{staticStyle:{padding:"10rpx 30rpx","box-sizing":"border-box","border-bottom":"1px solid #EFEFEF"}},[e("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("v-uni-view",{staticStyle:{width:"50%"}},[t._v("合計")]),e("v-uni-view",{staticClass:"fontF",staticStyle:{width:"50%","text-align":"right","font-size":"12px",color:"#74747C"}},[t._v("元")])],1),e("v-uni-view",{staticStyle:{"text-align":"center","padding-bottom":"20rpx"}},[e("v-uni-view",{staticStyle:{"text-align":"center"}},[t._v(t._s(1e3*t.form.shuliang*t.gupiao.price+1e3*t.form.shuliang*t.gupiao.price*t.gupiao.fwfv))])],1)],1),e("v-uni-view",{staticStyle:{padding:"10rpx 30rpx","box-sizing":"border-box","border-bottom":"1px solid #EFEFEF"}},[e("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("v-uni-view",{staticStyle:{width:"50%"}},[t._v("可用額度")]),e("v-uni-view",{staticClass:"fontF",staticStyle:{width:"50%","text-align":"right","font-size":"12px",color:"#74747C"}},[t._v("元")])],1),e("v-uni-view",{staticStyle:{"text-align":"center","padding-bottom":"20rpx"}},[e("v-uni-view",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.userinfo.money))])],1)],1),e("v-uni-view",{staticClass:"checkbtn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.open_buy_modal()}}},[t._v("現股買入")]),e("u-toast",{ref:"uToast"}),e("u-modal",{attrs:{content:"確定買入嗎？","confirm-text":"確定","show-cancel-button":!0},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.addOrder.apply(void 0,arguments)}},model:{value:t.show_buy_modal,callback:function(i){t.show_buy_modal=i},expression:"show_buy_modal"}})],1)},a=[]},9084:function(t,i,e){"use strict";e.r(i);var n=e("2997"),o=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=o.a},"95c1":function(t,i,e){"use strict";e("99af"),e("d81d"),e("a9e3"),e("ac1f"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"u-subsection",props:{list:{type:Array,default:function(){return[]}},current:{type:[Number,String],default:0},activeColor:{type:String,default:"#303133"},inactiveColor:{type:String,default:"#606266"},mode:{type:String,default:"button"},fontSize:{type:[Number,String],default:28},animation:{type:Boolean,default:!0},height:{type:[Number,String],default:70},bold:{type:Boolean,default:!0},bgColor:{type:String,default:"#eeeeef"},buttonColor:{type:String,default:"#ffffff"},vibrateShort:{type:Boolean,default:!1}},data:function(){return{listInfo:[],itemBgStyle:{width:0,left:0,backgroundColor:"#ffffff",height:"100%",transition:""},currentIndex:this.current,buttonPadding:3,borderRadius:5,firstTimeVibrateShort:!0}},watch:{current:{immediate:!0,handler:function(t){this.currentIndex=t,this.changeSectionStatus(t)}}},created:function(){this.listInfo=this.list.map((function(t,i){if("object"!=typeof t){var e={width:0,name:t};return e}return t.width=0,t}))},computed:{noBorderRight:function(){var t=this;return function(i){if("subsection"==t.mode){var e="";return i<t.list.length-1&&(e+=" u-none-border-right"),0==i&&(e+=" u-item-first"),i==t.list.length-1&&(e+=" u-item-last"),e}}},textStyle:function(){var t=this;return function(i){var e={};return"subsection"==t.mode?i==t.currentIndex?e.color="#ffffff":e.color=t.activeColor:i==t.currentIndex?e.color=t.activeColor:e.color=t.inactiveColor,i==t.currentIndex&&t.bold&&(e.fontWeight="bold"),e.fontSize=t.fontSize+"rpx",e}},itemStyle:function(){var t=this;return function(i){var e={};return"subsection"==t.mode&&(e.borderColor=t.activeColor,e.borderWidth="1px",e.borderStyle="solid"),e}},subsectionStyle:function(){var t={};return t.height=uni.upx2px(this.height)+"px","button"==this.mode&&(t.backgroundColor=this.bgColor,t.padding="".concat(this.buttonPadding,"px"),t.borderRadius="".concat(this.borderRadius,"px")),t},itemBarStyle:function(){var t={};return t.backgroundColor=this.activeColor,t.zIndex=1,"button"==this.mode&&(t.backgroundColor=this.buttonColor,t.borderRadius="".concat(this.borderRadius,"px"),t.bottom="".concat(this.buttonPadding,"px"),t.height=uni.upx2px(this.height)-2*this.buttonPadding+"px",t.zIndex=0),Object.assign(this.itemBgStyle,t)}},mounted:function(){var t=this;setTimeout((function(){t.getTabsInfo()}),10)},methods:{changeSectionStatus:function(t){var i=this;"subsection"==this.mode&&(t==this.list.length-1&&(this.itemBgStyle.borderRadius="0 ".concat(this.buttonPadding,"px ").concat(this.buttonPadding,"px 0")),0==t&&(this.itemBgStyle.borderRadius="".concat(this.buttonPadding,"px 0 0 ").concat(this.buttonPadding,"px")),t>0&&t<this.list.length-1&&(this.itemBgStyle.borderRadius="0")),setTimeout((function(){i.itemBgLeft()}),10),this.vibrateShort&&this.firstTimeVibrateShort,this.firstTimeVibrateShort=!1},click:function(t){t!=this.currentIndex&&(this.currentIndex=t,this.changeSectionStatus(t),this.$emit("change",Number(t)))},getTabsInfo:function(){for(var t=this,i=uni.createSelectorQuery().in(this),e=0;e<this.list.length;e++)i.select(".u-item-"+e).boundingClientRect();i.exec((function(i){i.length||setTimeout((function(){t.getTabsInfo()}),10),i.map((function(i,e){t.listInfo[e].width=i.width})),("subsection"==t.mode||"button"==t.mode)&&(t.itemBgStyle.width=t.listInfo[0].width+"px"),t.itemBgLeft()}))},itemBgLeft:function(){var t=this;this.animation?this.itemBgStyle.transition="all 0.35s":this.itemBgStyle.transition="all 0s";var i=0;this.listInfo.map((function(e,n){n<t.currentIndex&&(i+=e.width)})),"subsection"==this.mode?this.itemBgStyle.left=i+"px":"button"==this.mode&&(this.itemBgStyle.left=i+this.buttonPadding+"px")}}};i.default=n},"9edd":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-subsection[data-v-5d02c53e]{display:flex;flex-direction:row;align-items:center;overflow:hidden;position:relative}.u-item[data-v-5d02c53e]{flex:1;text-align:center;font-size:%?26?%;height:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;color:#303133;padding:0 %?6?%}.u-item-bg[data-v-5d02c53e]{background-color:#2979ff;position:absolute;z-index:-1}.u-none-border-right[data-v-5d02c53e]{border-right:none!important}.u-item-first[data-v-5d02c53e]{border-top-left-radius:%?8?%;border-bottom-left-radius:%?8?%}.u-item-last[data-v-5d02c53e]{border-top-right-radius:%?8?%;border-bottom-right-radius:%?8?%}.u-item-text[data-v-5d02c53e]{transition:all .35s;color:#303133;display:flex;flex-direction:row;align-items:center;position:relative;z-index:3}',""]),t.exports=i},a883:function(t,i,e){"use strict";var n;e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return n}));var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"u-subsection",style:[t.subsectionStyle]},[t._l(t.listInfo,(function(i,n){return e("v-uni-view",{key:n,staticClass:"u-item u-line-1",class:[t.noBorderRight(n),"u-item-"+n],style:[t.itemStyle(n)],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.click(n)}}},[e("v-uni-view",{staticClass:"u-item-text u-line-1",style:[t.textStyle(n)]},[t._v(t._s(i.name))])],1)})),e("v-uni-view",{staticClass:"u-item-bg",style:[t.itemBarStyle]})],2)},a=[]},ac99:function(t,i,e){var n=e("425a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("3c3e5864",n,!0,{sourceMap:!1,shadowMode:!1})},b65f:function(t,i,e){var n=e("23e7"),o=Math.ceil,a=Math.floor;n({target:"Math",stat:!0},{trunc:function(t){return(t>0?a:o)(t)}})},d0dc:function(t,i,e){var n=e("9edd");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("422c3855",n,!0,{sourceMap:!1,shadowMode:!1})},db38:function(t,i,e){"use strict";var n=e("d0dc"),o=e.n(n);o.a}}]);