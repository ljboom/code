(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-discount_gupiao-discount_gupiao"],{"07f7":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".wrap[data-v-cf97bc1a]{display:flex;flex-direction:column;height:calc(100vh - var(--window-top));width:100%}.swiper-box[data-v-cf97bc1a]{flex:1}.swiper-item[data-v-cf97bc1a]{height:100%}",""]),t.exports=e},"1aa5":function(t,e,n){"use strict";var i=n("5455"),a=n.n(i);a.a},2589:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",""]),t.exports=e},"26ed":function(t,e,n){"use strict";var i=n("ed3b"),a=n.n(i);a.a},3725:function(t,e,n){"use strict";n.r(e);var i=n("49c7"),a=n("e7d6");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("1aa5");var s,u=n("f0c5"),o=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"7eb6ab4a",null,!1,i["a"],s);e["default"]=o.exports},"49c7":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uIcon:n("4b2f").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-numberbox"},[n("v-uni-view",{staticClass:"u-icon-minus",class:{"u-icon-disabled":t.disabled||t.inputVal<=t.min},style:{background:t.bgColor,height:t.inputHeight+"rpx",color:t.color},on:{touchstart:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.btnTouchStart("minus")},touchend:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clearTimer.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"minus",size:t.size}})],1),n("v-uni-input",{staticClass:"u-number-input",class:{"u-input-disabled":t.disabled},style:{color:t.color,fontSize:t.size+"rpx",background:t.bgColor,height:t.inputHeight+"rpx",width:t.inputWidth+"rpx"},attrs:{disabled:t.disabledInput||t.disabled,"cursor-spacing":t.getCursorSpacing,type:"number"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.onBlur.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)}},model:{value:t.inputVal,callback:function(e){t.inputVal=e},expression:"inputVal"}}),n("v-uni-view",{staticClass:"u-icon-plus",class:{"u-icon-disabled":t.disabled||t.inputVal>=t.max},style:{background:t.bgColor,height:t.inputHeight+"rpx",color:t.color},on:{touchstart:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.btnTouchStart("plus")},touchend:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clearTimer.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"plus",size:t.size}})],1)],1)},r=[]},"51e0":function(t,e,n){var i=n("2589");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("7db9c07a",i,!0,{sourceMap:!1,shadowMode:!1})},5455:function(t,e,n){var i=n("aa7b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("59689b2e",i,!0,{sourceMap:!1,shadowMode:!1})},"5d9a":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uTabsSwiper:n("febf").default,uPopup:n("e31b").default,uNumberBox:n("3725").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"wrap"},[n("v-uni-view",{staticClass:"u-tabs-box"},[n("u-tabs-swiper",{ref:"tabs",attrs:{activeColor:"#f29100",list:t.list,current:t.current,"is-scroll":!1,swiperWidth:"750"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}})],1),n("v-uni-swiper",{staticClass:"swiper-box",attrs:{current:t.swiperCurrent},on:{transition:function(e){arguments[0]=e=t.$handleEvent(e),t.transition.apply(void 0,arguments)},animationfinish:function(e){arguments[0]=e=t.$handleEvent(e),t.animationfinish.apply(void 0,arguments)},change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[n("v-uni-swiper-item",{staticClass:"swiper-item"},[n("v-uni-view",{staticStyle:{display:"flex","justify-items":"center","justify-content":"space-between",padding:"35rpx 0rpx","box-sizing":"border-box","font-weight":"bolder"}},[n("v-uni-view",{staticStyle:{width:"30%","text-align":"center"}},[t._v("股票名稱")]),n("v-uni-view",{staticStyle:{width:"30%","text-align":"center"}},[t._v("抽籤價")]),n("v-uni-view",{staticStyle:{width:"30%","text-align":"center"}},[t._v("編號")])],1),n("v-uni-scroll-view",{staticStyle:{height:"100%",width:"100%"},attrs:{"scroll-y":!0}},t._l(t.data_list,(function(e,i){return n("v-uni-view",{key:i,staticStyle:{display:"flex","justify-items":"center","justify-content":"space-between","box-sizing":"border-box","padding-bottom":"30rpx"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.buyinfo(e,i)}}},[n("v-uni-view",{staticStyle:{width:"30%","text-align":"center","font-weight":"800"}},[t._v(t._s(e.name))]),n("v-uni-view",{staticStyle:{width:"30%","text-align":"center",color:"red"}},[t._v(t._s(e.discount))]),n("v-uni-view",{staticStyle:{width:"30%","text-align":"center"}},[t._v(t._s(e.shuzidaima))])],1)})),1)],1),n("v-uni-swiper-item",{staticClass:"swiper-item"},[n("v-uni-view",{staticStyle:{display:"flex","justify-items":"center","justify-content":"space-between",padding:"35rpx 0rpx","box-sizing":"border-box","font-weight":"bolder"}},[n("v-uni-view",{staticStyle:{width:"25%","text-align":"center"}},[t._v("名稱/編號")]),n("v-uni-view",{staticStyle:{width:"25%","text-align":"center"}},[t._v("價格/抽籤價")]),n("v-uni-view",{staticStyle:{width:"25%","text-align":"center"}},[t._v("成交額")]),n("v-uni-view",{staticStyle:{width:"25%","text-align":"center"}},[t._v("狀態")])],1),n("v-uni-scroll-view",{staticStyle:{height:"100%",width:"100%"},attrs:{"scroll-y":!0}},t._l(t.order_list,(function(e,i){return n("v-uni-view",{key:i,staticStyle:{display:"flex","justify-items":"center","justify-content":"space-between","box-sizing":"border-box","padding-bottom":"30rpx","align-items":"center"}},[n("v-uni-view",{staticStyle:{width:"25%","text-align":"center","font-weight":"800"}},[t._v(t._s(e.product.name)),n("br"),t._v(t._s(e.product.shuzidaima))]),n("v-uni-view",{staticStyle:{width:"25%","text-align":"center"}},[t._v(t._s(e.price/1e3)),n("br"),t._v(t._s(e.num)+"張")]),n("v-uni-view",{staticStyle:{width:"25%","text-align":"center",color:"red","font-weight":"bold"}},[t._v(t._s(e.turnover))]),2==e.status?n("v-uni-view",{staticStyle:{width:"25%","text-align":"center",color:"darkgreen"}},[t._v("抽籤成功")]):t._e(),3==e.status?n("v-uni-view",{staticStyle:{width:"25%","text-align":"center",color:"red"}},[t._v("抽籤失敗")]):t._e(),1==e.status?n("v-uni-view",{staticStyle:{width:"25%","text-align":"center"}},[t._v("申請中")]):t._e()],1)})),1)],1)],1)],1),n("u-popup",{attrs:{mode:"bottom","safe-area-inset-bottom":!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.selectShowClose.apply(void 0,arguments)}},model:{value:t.selectShow,callback:function(e){t.selectShow=e},expression:"selectShow"}},[n("v-uni-scroll-view",{staticStyle:{height:"500rpx",width:"100%","background-color":"#FFE4C4"},attrs:{"scroll-y":"true"}},[n("v-uni-view",{staticStyle:{width:"100%","text-align":"center","padding-top":"20rpx","font-weight":"bolder","font-size":"16px"}},[t._v("☆ 折價股票抽籤 ☆")]),n("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","flex-wrap":"wrap",padding:"30rpx","box-sizing":"border-box","font-size":"16px"}},[n("v-uni-view",{staticStyle:{"font-weight":"bold",padding:"15rpx"}},[t._v("編號："),n("v-uni-text",{staticStyle:{"font-weight":"400"}},[t._v(t._s(t.selectData.shuzidaima))])],1),n("v-uni-view",{staticStyle:{"font-weight":"bold",padding:"15rpx"}},[t._v("名稱："),n("v-uni-text",{staticStyle:{"font-weight":"400"}},[t._v(t._s(t.selectData.name))])],1),n("v-uni-view",{staticStyle:{"font-weight":"bold",padding:"15rpx"}},[t._v("市价："),n("v-uni-text",{staticStyle:{"font-weight":"400"}},[t._v(t._s(t.selectData.price))])],1),n("v-uni-view",{staticStyle:{"font-weight":"bold",padding:"15rpx"}},[t._v("编码："),n("v-uni-text",{staticStyle:{"font-weight":"400"}},[t._v(t._s(t.selectData.zimudaima))])],1),n("v-uni-view",{staticStyle:{"font-weight":"bold",padding:"15rpx"}},[t._v("涨跌："),n("v-uni-text",{staticStyle:{"font-weight":"400"}},[t._v(t._s(t.selectData.zhangdiebaifenbi)+"%")])],1),n("v-uni-view",{staticClass:"u-flex u-row-center",staticStyle:{display:"flex","justify-content":"center",width:"100%","padding-top":"30rpx"}},[n("u-number-box",{attrs:{"positive-integer":!1,"input-width":"200","input-height":"70"},model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",e)},expression:"form.num"}})],1),n("v-uni-view",{staticStyle:{display:"flex","justify-content":"center",width:"100%","margin-top":"30rpx"}},[n("v-uni-button",{staticStyle:{width:"80%",height:"48px",color:"#fff",background:"linear-gradient(90deg, #ffbc66, #ff815e)","border-radius":"0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addOrder(t.selectData.id,t.form.num)}}},[t._v("確定買入")])],1)],1)],1)],1)],1)},r=[]},"7b49":function(t,e,n){"use strict";var i=n("51e0"),a=n.n(i);a.a},a33f:function(t,e,n){"use strict";n("c975"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"u-number-box",props:{value:{type:Number,default:1},bgColor:{type:String,default:"#F2F3F5"},min:{type:Number,default:0},max:{type:Number,default:99999},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},size:{type:[Number,String],default:26},color:{type:String,default:"#323233"},inputWidth:{type:[Number,String],default:80},inputHeight:{type:[Number,String],default:50},index:{type:[Number,String],default:""},disabledInput:{type:Boolean,default:!1},cursorSpacing:{type:[Number,String],default:100},longPress:{type:Boolean,default:!0},pressTime:{type:[Number,String],default:250},positiveInteger:{type:Boolean,default:!0}},watch:{value:function(t,e){this.changeFromInner||(this.inputVal=t,this.$nextTick((function(){this.changeFromInner=!1})))},inputVal:function(t,e){var n=this;if(""!=t){var i=0,a=this.$u.test.number(t);i=a&&t>=this.min&&t<=this.max?t:e,this.positiveInteger&&(t<0||-1!==String(t).indexOf("."))&&(i=e,this.$nextTick((function(){n.inputVal=e}))),this.handleChange(i,"change")}}},data:function(){return{inputVal:1,timer:null,changeFromInner:!1,innerChangeTimer:null}},created:function(){this.inputVal=Number(this.value)},computed:{getCursorSpacing:function(){return Number(uni.upx2px(this.cursorSpacing))}},methods:{btnTouchStart:function(t){var e=this;this[t](),this.longPress&&(clearInterval(this.timer),this.timer=null,this.timer=setInterval((function(){e[t]()}),this.pressTime))},clearTimer:function(){var t=this;this.$nextTick((function(){clearInterval(t.timer),t.timer=null}))},minus:function(){this.computeVal("minus")},plus:function(){this.computeVal("plus")},calcPlus:function(t,e){var n,i,a;try{i=t.toString().split(".")[1].length}catch(s){i=0}try{a=e.toString().split(".")[1].length}catch(s){a=0}n=Math.pow(10,Math.max(i,a));var r=i>=a?i:a;return((t*n+e*n)/n).toFixed(r)},calcMinus:function(t,e){var n,i,a;try{i=t.toString().split(".")[1].length}catch(s){i=0}try{a=e.toString().split(".")[1].length}catch(s){a=0}n=Math.pow(10,Math.max(i,a));var r=i>=a?i:a;return((t*n-e*n)/n).toFixed(r)},computeVal:function(t){if(uni.hideKeyboard(),!this.disabled){var e=0;"minus"===t?e=this.calcMinus(this.inputVal,this.step):"plus"===t&&(e=this.calcPlus(this.inputVal,this.step)),e<this.min||e>this.max||(this.inputVal=e,this.handleChange(e,t))}},onBlur:function(t){var e=this,n=0,i=t.detail.value;/(^\d+$)/.test(i)&&0!=i[0]||(n=this.min),n=+i,n>this.max?n=this.max:n<this.min&&(n=this.min),this.$nextTick((function(){e.inputVal=n})),this.handleChange(n,"blur")},onFocus:function(){this.$emit("focus")},handleChange:function(t,e){var n=this;this.disabled||(this.innerChangeTimer&&(clearTimeout(this.innerChangeTimer),this.innerChangeTimer=null),this.changeFromInner=!0,this.innerChangeTimer=setTimeout((function(){n.changeFromInner=!1}),150),this.$emit("input",Number(t)),this.$emit(e,{value:Number(t),index:this.index}))}}};e.default=i},aa7b:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-numberbox[data-v-7eb6ab4a]{display:inline-flex;align-items:center}.u-number-input[data-v-7eb6ab4a]{position:relative;text-align:center;padding:0;margin:0 %?6?%;display:flex;flex-direction:row;align-items:center;justify-content:center}.u-icon-plus[data-v-7eb6ab4a],\r\n.u-icon-minus[data-v-7eb6ab4a]{width:%?60?%;display:flex;flex-direction:row;justify-content:center;align-items:center}.u-icon-plus[data-v-7eb6ab4a]{border-radius:0 %?8?% %?8?% 0}.u-icon-minus[data-v-7eb6ab4a]{border-radius:%?8?% 0 0 %?8?%}.u-icon-disabled[data-v-7eb6ab4a]{color:#c8c9cc!important;background:#f7f8fa!important}.u-input-disabled[data-v-7eb6ab4a]{color:#c8c9cc!important;background-color:#f2f3f5!important}',""]),t.exports=e},aed4:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=i(n("1da1")),r={data:function(){return{selectShow:!1,list:[{name:"股票"},{name:"申請清單"}],current:0,swiperCurrent:0,tabsHeight:0,data_list:[],order_list:[],selectData:{},form:{id:"",num:1}}},onShow:function(){this.get_list()},methods:{addOrder:function(t,e){var n=this;this.$u.api.addDiscountGupiao({pro_id:t,num:e}).then((function(t){n.selectShow=!1,uni.showToast({title:"抽籤成功"})}))},buyinfo:function(e,n){t("log",111," at pages/discount_gupiao/discount_gupiao.vue:115"),this.selectData=e,this.selectShow=!0},selectShowClose:function(){this.selectShow=!1},get_list:function(){var t=this;this.$u.api.getDiscountGupiao({}).then((function(e){t.data_list=e.pro_list,t.order_list=e.order_list}))},change:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i="",i="number"===typeof t?t:t.detail.current,e.swiperCurrent=i;case 3:case"end":return n.stop()}}),n)})))()},transition:function(t){var e=t.detail.dx;this.$refs.tabs.setDx(e)},animationfinish:function(t){var e=t.detail.current;this.$refs.tabs.setFinishCurrent(e),this.swiperCurrent=e,this.current=e},closeDropdown:function(){this.$refs.uDropdown.close()}}};e.default=r}).call(this,n("0de9")["log"])},dd60:function(t,e,n){"use strict";n.r(e);var i=n("5d9a"),a=n("f363");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("7b49"),n("26ed");var s,u=n("f0c5"),o=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"cf97bc1a",null,!1,i["a"],s);e["default"]=o.exports},e7d6:function(t,e,n){"use strict";n.r(e);var i=n("a33f"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},ed3b:function(t,e,n){var i=n("07f7");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("57838dbb",i,!0,{sourceMap:!1,shadowMode:!1})},f363:function(t,e,n){"use strict";n.r(e);var i=n("aed4"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a}}]);