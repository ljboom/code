(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-gupiao-detail"],{"0736":function(t,i,a){"use strict";var e=a("86a6"),n=a.n(e);n.a},3549:function(t,i,a){var e=a("8ca1");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("6007ea92",e,!0,{sourceMap:!1,shadowMode:!1})},"39fa":function(t,i,a){"use strict";a.r(i);var e=a("f6f6"),n=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);i["default"]=n.a},"3fc0":function(t,i,a){"use strict";a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return e}));var e={uNavbar:a("9999").default,uIcon:a("72e6").default,uTabs:a("ade8").default,qiunDataCharts:a("daf9").default,uSubsection:a("7a27").default,uGap:a("3fd3").default,uNumberBox:a("7a37").default,uButton:a("8d8d").default,uLine:a("737b").default,uToast:a("11ca").default,uModal:a("fa5c").default},n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"wrap"},[a("u-navbar",{attrs:{title:t.gupiao.name}}),a("v-uni-view",{staticClass:"hd u-padding-30 u-relative"},[a("v-uni-view",{staticClass:"zixuan",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addZixuan.apply(void 0,arguments)}}},[a("u-icon",{attrs:{name:t.zixuan_status,label:"加自選","label-color":"#fff"}})],1),a("v-uni-view",{staticClass:"u-font-40"},[t._v(t._s(t.gupiao.name))]),a("v-uni-view",{staticClass:"u-flex"},[a("v-uni-view",{staticClass:"u-flex-1 u-font-36"},[t._v(t._s(t.gupiao.price))]),a("v-uni-view",{staticClass:"u-flex-1"},[a("v-uni-view",[t.gupiao.zhangdieshu>0?a("v-uni-text",[t._v("+")]):t._e(),t._v(t._s(t.gupiao.zhangdieshu))],1),a("v-uni-view",[t.gupiao.zhangdiebaifenbi>0?a("v-uni-text",[t._v("+")]):t._e(),t._v(t._s(t.gupiao.zhangdiebaifenbi)+"%")],1)],1)],1),a("v-uni-view",{staticClass:"u-flex"},[a("v-uni-view",{staticClass:"u-flex-1"},[t._v("今開價:"+t._s(t.gupiao.open))]),a("v-uni-view",{staticClass:"u-flex-1"},[t._v("昨收價:"+t._s(t.gupiao.close))])],1),a("v-uni-view",{staticClass:"u-flex"},[a("v-uni-view",{staticClass:"u-flex-1"},[t._v("最高價:"+t._s(t.gupiao.high))]),a("v-uni-view",{staticClass:"u-flex-1"},[t._v("最低價:"+t._s(t.gupiao.low))])],1)],1),a("v-uni-view",{staticClass:"content"},[a("u-tabs",{attrs:{list:t.list,"is-scroll":!1,current:t.current,"active-color":"#f00"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.change_interval.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"charts-box",staticStyle:{height:"600rpx"}},[a("qiun-data-charts",{attrs:{type:"candle",opts:{extra:{tooltip:{showCategory:!0}},xAxis:{scrollAlign:"right",disabled:!0}},ontouch:!0,canvas2d:!0,onzoom:!0,canvasId:"klineid",chartData:t.chartsDataCandle1}})],1)],1),a("v-uni-view",{staticClass:"container u-flex u-col-top"},[a("v-uni-view",{staticClass:"u-flex-1 u-margin-right-10"},[a("u-subsection",{attrs:{list:t.price_type,current:t.curNow,"active-color":"#fff","button-color":"#2979ff"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.sectionChange.apply(void 0,arguments)}}}),a("u-gap",{attrs:{height:"30"}}),a("v-uni-view",{staticClass:"u-flex u-row-center"},[t.show_nowprice?a("u-number-box",{attrs:{"positive-integer":!1,step:.1,"input-width":"200","input-height":"70"},model:{value:t.nowgupiao,callback:function(i){t.nowgupiao=i},expression:"nowgupiao"}}):t._e()],1),a("u-gap",{attrs:{height:"30"}}),a("v-uni-view",[t._v("數量（張）")]),a("v-uni-view",{staticClass:"u-flex u-row-center"},[a("u-number-box",{attrs:{"positive-integer":!1,"input-width":"200","input-height":"70"},model:{value:t.zhangshu,callback:function(i){t.zhangshu=i},expression:"zhangshu"}})],1),a("u-gap",{attrs:{height:"30"}}),a("u-subsection",{attrs:{list:t.buy_type,current:t.curNow2,"active-color":"#fff","button-color":"#f00"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.sectionChange2.apply(void 0,arguments)}}}),a("u-gap",{attrs:{height:"30"}}),a("u-button",{attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.open_buy_modal.apply(void 0,arguments)}}},[t._v("買入")])],1),a("v-uni-view",{staticClass:"pankou u-flex-1 u-margin-left-10"},[a("v-uni-view",{staticClass:"weisell u-flex"},[a("v-uni-view",[t._v("委賣")]),a("v-uni-view",{staticClass:"list u-flex-1 u-margin-left-20"},[a("v-uni-view",{staticClass:"item u-flex"},[a("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.sell5_price))]),a("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.sell5_num))])],1),a("v-uni-view",{staticClass:"item u-flex"},[a("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.sell4_price))]),a("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.sell4_num))])],1),a("v-uni-view",{staticClass:"item u-flex"},[a("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.sell3_price))]),a("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.sell3_num))])],1),a("v-uni-view",{staticClass:"item u-flex"},[a("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.sell2_price))]),a("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.sell2_num))])],1),a("v-uni-view",{staticClass:"item u-flex"},[a("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.sell1_price))]),a("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.sell1_num))])],1)],1)],1),a("u-line",{attrs:{color:"gray"}}),a("v-uni-view",{staticClass:"weibuy u-flex"},[a("v-uni-view",[t._v("委買")]),a("v-uni-view",{staticClass:"list u-flex-1 u-margin-left-20"},[a("v-uni-view",{staticClass:"item u-flex"},[a("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.buy1_price))]),a("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.buy1_num))])],1),a("v-uni-view",{staticClass:"item u-flex"},[a("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.buy2_price))]),a("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.buy2_num))])],1),a("v-uni-view",{staticClass:"item u-flex"},[a("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.buy3_price))]),a("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.buy3_num))])],1),a("v-uni-view",{staticClass:"item u-flex"},[a("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.buy4_price))]),a("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.buy4_num))])],1),a("v-uni-view",{staticClass:"item u-flex"},[a("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.buy5_price))]),a("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.buy5_num))])],1)],1)],1)],1)],1),a("u-toast",{ref:"uToast"}),a("u-modal",{attrs:{content:"確定買入嗎？","confirm-text":"確定","show-cancel-button":!0},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.addOrder.apply(void 0,arguments)}},model:{value:t.show_buy_modal,callback:function(i){t.show_buy_modal=i},expression:"show_buy_modal"}})],1)},s=[]},"486c":function(t,i,a){"use strict";var e=a("3549"),n=a.n(e);n.a},"737b":function(t,i,a){"use strict";a.r(i);var e=a("9acd"),n=a("39fa");for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);a("0736");var u,o=a("f0c5"),l=Object(o["a"])(n["default"],e["b"],e["c"],!1,null,"c7c48cc8",null,!1,e["a"],u);i["default"]=l.exports},"86a6":function(t,i,a){var e=a("fc7b");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("63e78325",e,!0,{sourceMap:!1,shadowMode:!1})},"8ca1":function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,".container[data-v-6e6dadaa]{margin:0 %?30?%;width:%?690?%;padding:0 0 %?50?%}.hd[data-v-6e6dadaa]{background-color:#de3639;color:#fff}.hd .zixuan[data-v-6e6dadaa]{position:absolute;right:%?30?%;top:%?30?%;padding:%?20?% %?30?%;border-radius:%?20?%;background:#f90}.pankou .item[data-v-6e6dadaa]{margin:%?15?% 0}",""]),t.exports=i},"9acd":function(t,i,a){"use strict";var e;a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return e}));var n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"u-line",style:[t.lineStyle]})},s=[]},b104:function(t,i,a){"use strict";(function(t){a("acd8"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{gupiao:{name:"",price:0,zhangdieshu:0,zhangdiebaifenbi:0,open:0,close:0,high:0,low:0},id:0,interval:"d",chartsDataCandle1:{categories:[],series:[{name:"",data:[]}]},colorList:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],labelFont:"bold 12px Sans-serif",list:[{name:"日K"},{name:"5分"},{name:"10分"},{name:"30分"},{name:"60分"}],current:0,price_type:[{name:"限價"},{name:"市價"}],curNow:0,buy_type:[{name:"買多"},{name:"買空"}],curNow2:0,nowgupiao:0,show_nowprice:!0,zhangshu:1,fangxiang:"duo",buytype_data:1,show_buy_modal:!1,ZhishusocketTask:null,timer1:null,GetKsocketTask:null,timer2:null,zixuan_status:"star",PankouSocket:null,timer3:null,pankou:{sell5_price:0,sell3_num:0,sell2_num:0,sell1_num:0,sell4_num:0,sell5_num:0,buy1_price:0,buy1_num:0,buy2_num:0,buy3_num:0,buy4_num:0,buy5_num:0}}},onLoad:function(i){var a=this;this.id=i.id,this.getGupiaoDetail(this.id),this.isZixuan(),this.$u.api.getGupiaoKline({id:this.id,interval:this.interval}).then((function(i){t("log",i," at pagesA/gupiao/detail.vue:207"),a.chartsDataCandle1=i})),this.getpankou()},onShow:function(){var i=this;this.ZhishusocketTask=uni.connectSocket({url:getApp().globalData.socket_domain+":2001",success:function(){t("log","socket success"," at pagesA/gupiao/detail.vue:217")},fail:function(){t("log","socket fail"," at pagesA/gupiao/detail.vue:220")}}),this.ZhishusocketTask.onMessage((function(t){t=JSON.parse(t.data),i.gupiao=t})),this.timer1=setInterval((function(){i.ZhishusocketTask.send({data:"getgupiao_"+i.id,success:function(){},fail:function(){}})}),5e3),this.GetKsocketTask=uni.connectSocket({url:getApp().globalData.socket_domain+":2003",success:function(){t("log","socket success"," at pagesA/gupiao/detail.vue:242")},fail:function(){t("log","socket fail"," at pagesA/gupiao/detail.vue:245")}}),this.GetKsocketTask.onMessage((function(t){t=JSON.parse(t.data),t&&(i.chartsDataCandle1=t)})),this.GetKsocketTask.onClose((function(){t("log","关闭GetKsocketTask"," at pagesA/gupiao/detail.vue:258")})),this.GetKsocketTask.send({data:"getgupiaok_"+i.id+"_d",success:function(){},fail:function(){}}),this.timer2=setInterval((function(){i.GetKsocketTask.send({data:"getgupiaok_"+i.id+"_"+i.interval,success:function(){},fail:function(){}})}),3e3),this.PankouSocket=uni.connectSocket({url:getApp().globalData.socket_domain+":2005",success:function(){t("log","连接PankouSocket"," at pagesA/gupiao/detail.vue:285")},fail:function(){t("log","socket fail"," at pagesA/gupiao/detail.vue:288")}}),this.PankouSocket.onMessage((function(t){t=JSON.parse(t.data),t&&(i.pankou=t)})),this.PankouSocket.onClose((function(){t("log","关闭PankouSocket"," at pagesA/gupiao/detail.vue:301")})),this.PankouSocket.send({data:"getpankou_"+i.id,success:function(){},fail:function(){}}),this.timer3=setInterval((function(){i.PankouSocket.send({data:"getpankou_"+i.id,success:function(){},fail:function(){}})}),3e3)},onUnload:function(){this.ZhishusocketTask.close(),this.ZhishusocketTask=null,this.GetKsocketTask.close(),this.GetKsocketTask=null,this.PankouSocket.close(),this.PankouSocket=null,clearInterval(this.timer1),clearInterval(this.timer2),clearInterval(this.timer3),this.timer1=null,this.timer2=null,this.timer3=null},onHide:function(){this.ZhishusocketTask.close(),this.ZhishusocketTask=null,this.GetKsocketTask.close(),this.GetKsocketTask=null,this.PankouSocket.close(),this.PankouSocket=null,clearInterval(this.timer1),clearInterval(this.timer2),clearInterval(this.timer3),this.timer1=null,this.timer2=null,this.timer3=null},methods:{getGupiaoDetail:function(i){var a=this;this.$u.api.getGupiaoDetail({id:i}).then((function(i){i.price=parseFloat(i.price),i.close=parseFloat(i.close),i.low=parseFloat(i.low),i.open=parseFloat(i.open),i.high=parseFloat(i.high),t("log",i," at pagesA/gupiao/detail.vue:360"),a.gupiao=i,a.nowgupiao=i.price}))},change_interval:function(t){var i=this;switch(this.current=t,t){case 0:this.interval="d";break;case 1:this.interval="5";break;case 2:this.interval="10";break;case 3:this.interval="30";break;case 4:this.interval="60";break}this.$u.api.getGupiaoKline({id:this.id,interval:this.interval}).then((function(t){i.chartsDataCandle1=t}))},sectionChange:function(t){this.curNow=t,1==t?(this.show_nowprice=!1,this.buytype_data=0):(this.show_nowprice=!0,this.buytype_data=1,this.nowzhishu=this.zhishu.price)},sectionChange2:function(t){this.curNow2=t,this.fangxiang=1==t?"kong":"duo"},addOrder:function(){var i=this;this.$u.api.buyGupiao({fangxiang:this.fangxiang,type:0,pro_id:this.id,buytype:this.buytype_data,price:this.nowgupiao,shuliang:this.zhangshu}).then((function(a){t("log",a," at pagesA/gupiao/detail.vue:421"),i.$refs.uToast.show({title:a.msg,type:"success"})}))},open_buy_modal:function(){this.show_buy_modal=!0},addZixuan:function(){var i=this,a=this;this.$u.api.addZixuan({id:this.id}).then((function(e){t("log",e," at pagesA/gupiao/detail.vue:437"),"addsuccess"==e.action?i.zixuan_status="star-fill":i.zixuan_status="star",a.$refs.uToast.show({title:e.msg,type:"success"})}))},isZixuan:function(){var i=this;this.$u.api.isZixuan({id:this.id}).then((function(a){t("log",a.msg," at pagesA/gupiao/detail.vue:454"),"yes"==a.msg?i.zixuan_status="star-fill":i.zixuan_status="star"}))},getpankou:function(){var i=this;this.$u.api.getpankou({id:this.id}).then((function(a){t("log","pankou",a," at pagesA/gupiao/detail.vue:468"),i.pankou=a}))}}};i.default=e}).call(this,a("0de9")["log"])},b571:function(t,i,a){"use strict";a.r(i);var e=a("b104"),n=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);i["default"]=n.a},b6c0:function(t,i,a){"use strict";a.r(i);var e=a("3fc0"),n=a("b571");for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);a("486c");var u,o=a("f0c5"),l=Object(o["a"])(n["default"],e["b"],e["c"],!1,null,"6e6dadaa",null,!1,e["a"],u);i["default"]=l.exports},f6f6:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={name:"u-line",props:{color:{type:String,default:"#e4e7ed"},length:{type:String,default:"100%"},direction:{type:String,default:"row"},hairLine:{type:Boolean,default:!0},margin:{type:String,default:"0"},borderStyle:{type:String,default:"solid"}},computed:{lineStyle:function(){var t={};return t.margin=this.margin,"row"==this.direction?(t.borderBottomWidth="1px",t.borderBottomStyle=this.borderStyle,t.width=this.$u.addUnit(this.length),this.hairLine&&(t.transform="scaleY(0.5)")):(t.borderLeftWidth="1px",t.borderLeftStyle=this.borderStyle,t.height=this.$u.addUnit(this.length),this.hairLine&&(t.transform="scaleX(0.5)")),t.borderColor=this.color,t}}};i.default=e},fc7b:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-line[data-v-c7c48cc8]{vertical-align:middle}',""]),t.exports=i}}]);