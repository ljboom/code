(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-gupiao-detail"],{"005a":function(t,i,e){var a=e("f36b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("73699236",a,!0,{sourceMap:!1,shadowMode:!1})},"1d9b":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={name:"u-line",props:{color:{type:String,default:"#e4e7ed"},length:{type:String,default:"100%"},direction:{type:String,default:"row"},hairLine:{type:Boolean,default:!0},margin:{type:String,default:"0"},borderStyle:{type:String,default:"solid"}},computed:{lineStyle:function(){var t={};return t.margin=this.margin,"row"==this.direction?(t.borderBottomWidth="1px",t.borderBottomStyle=this.borderStyle,t.width=this.$u.addUnit(this.length),this.hairLine&&(t.transform="scaleY(0.5)")):(t.borderLeftWidth="1px",t.borderLeftStyle=this.borderStyle,t.height=this.$u.addUnit(this.length),this.hairLine&&(t.transform="scaleX(0.5)")),t.borderColor=this.color,t}}};i.default=a},"34e6":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".container[data-v-00b18ec0]{margin:0 %?30?%;width:%?690?%;padding:0 0 %?50?%}.hd[data-v-00b18ec0]{background-color:#de3639;color:#fff}.hd .zixuan[data-v-00b18ec0]{position:absolute;right:%?30?%;top:%?30?%;padding:%?20?% %?30?%;border-radius:%?20?%;background:#f90}.pankou .item[data-v-00b18ec0]{margin:%?15?% 0}",""]),t.exports=i},"3a19":function(t,i,e){"use strict";e.r(i);var a=e("1d9b"),n=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(i,t,(function(){return a[t]}))}(s);i["default"]=n.a},4861:function(t,i,e){"use strict";e.r(i);var a=e("cd85"),n=e("3a19");for(var s in n)"default"!==s&&function(t){e.d(i,t,(function(){return n[t]}))}(s);e("91d4");var u,o=e("f0c5"),l=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"c7c48cc8",null,!1,a["a"],u);i["default"]=l.exports},"69c6":function(t,i,e){"use strict";(function(t){e("acd8"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={data:function(){return{gupiao:{name:"",price:0,zhangdieshu:0,zhangdiebaifenbi:0,open:0,close:0,high:0,low:0},id:0,interval:"d",chartsDataCandle1:{categories:[],series:[{name:"",data:[]}]},colorList:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],labelFont:"bold 12px Sans-serif",list:[{name:"日K"},{name:"5分"},{name:"10分"},{name:"30分"},{name:"60分"}],current:0,price_type:[{name:"限價"},{name:"市價"}],curNow:0,buy_type:[{name:"買多"},{name:"買空"}],curNow2:0,nowgupiao:0,show_nowprice:!0,zhangshu:1,fangxiang:"duo",buytype_data:1,show_buy_modal:!1,ZhishusocketTask:null,timer1:null,GetKsocketTask:null,timer2:null,zixuan_status:"star",PankouSocket:null,timer3:null,pankou:{sell5_price:0,sell3_num:0,sell2_num:0,sell1_num:0,sell4_num:0,sell5_num:0,buy1_price:0,buy1_num:0,buy2_num:0,buy3_num:0,buy4_num:0,buy5_num:0}}},onLoad:function(i){var e=this;this.id=i.id,this.getGupiaoDetail(this.id),this.isZixuan(),this.$u.api.getGupiaoKline({id:this.id,interval:this.interval}).then((function(i){t("log",i," at pagesA/gupiao/detail.vue:211"),e.chartsDataCandle1=i})),this.getpankou()},onShow:function(){var i=this;this.ZhishusocketTask=uni.connectSocket({url:getApp().globalData.socket_domain+":2001",success:function(){t("log","socket success"," at pagesA/gupiao/detail.vue:221")},fail:function(){t("log","socket fail"," at pagesA/gupiao/detail.vue:224")}}),this.ZhishusocketTask.onMessage((function(t){t=JSON.parse(t.data),i.gupiao=t})),this.timer1=setInterval((function(){i.ZhishusocketTask.send({data:"getgupiao_"+i.id,success:function(){},fail:function(){}})}),5e3),this.GetKsocketTask=uni.connectSocket({url:getApp().globalData.socket_domain+":2003",success:function(){t("log","socket success"," at pagesA/gupiao/detail.vue:246")},fail:function(){t("log","socket fail"," at pagesA/gupiao/detail.vue:249")}}),this.GetKsocketTask.onMessage((function(t){t=JSON.parse(t.data),t&&(i.chartsDataCandle1=t)})),this.GetKsocketTask.onClose((function(){t("log","关闭GetKsocketTask"," at pagesA/gupiao/detail.vue:262")})),this.GetKsocketTask.send({data:"getgupiaok_"+i.id+"_d",success:function(){},fail:function(){}}),this.timer2=setInterval((function(){i.GetKsocketTask.send({data:"getgupiaok_"+i.id+"_"+i.interval,success:function(){},fail:function(){}})}),3e3),this.PankouSocket=uni.connectSocket({url:getApp().globalData.socket_domain+":2005",success:function(){t("log","连接PankouSocket"," at pagesA/gupiao/detail.vue:289")},fail:function(){t("log","socket fail"," at pagesA/gupiao/detail.vue:292")}}),this.PankouSocket.onMessage((function(t){t=JSON.parse(t.data),t&&(i.pankou=t)})),this.PankouSocket.onClose((function(){t("log","关闭PankouSocket"," at pagesA/gupiao/detail.vue:305")})),this.PankouSocket.send({data:"getpankou_"+i.id,success:function(){},fail:function(){}}),this.timer3=setInterval((function(){i.PankouSocket.send({data:"getpankou_"+i.id,success:function(){},fail:function(){}})}),3e3)},onUnload:function(){this.ZhishusocketTask.close(),this.ZhishusocketTask=null,this.GetKsocketTask.close(),this.GetKsocketTask=null,this.PankouSocket.close(),this.PankouSocket=null,clearInterval(this.timer1),clearInterval(this.timer2),clearInterval(this.timer3),this.timer1=null,this.timer2=null,this.timer3=null},onHide:function(){this.ZhishusocketTask.close(),this.ZhishusocketTask=null,this.GetKsocketTask.close(),this.GetKsocketTask=null,this.PankouSocket.close(),this.PankouSocket=null,clearInterval(this.timer1),clearInterval(this.timer2),clearInterval(this.timer3),this.timer1=null,this.timer2=null,this.timer3=null},methods:{getGupiaoDetail:function(i){var e=this;this.$u.api.getGupiaoDetail({id:i}).then((function(i){i.price=parseFloat(i.price),i.close=parseFloat(i.close),i.low=parseFloat(i.low),i.open=parseFloat(i.open),i.high=parseFloat(i.high),t("log",i," at pagesA/gupiao/detail.vue:364"),e.gupiao=i,e.nowgupiao=i.price}))},change_interval:function(t){var i=this;switch(this.current=t,t){case 0:this.interval="d";break;case 1:this.interval="5";break;case 2:this.interval="10";break;case 3:this.interval="30";break;case 4:this.interval="60";break}this.$u.api.getGupiaoKline({id:this.id,interval:this.interval}).then((function(t){i.chartsDataCandle1=t}))},sectionChange:function(t){this.curNow=t,1==t?(this.show_nowprice=!1,this.buytype_data=0):(this.show_nowprice=!0,this.buytype_data=1,this.nowzhishu=this.zhishu.price)},sectionChange2:function(t){this.curNow2=t,this.fangxiang=1==t?"kong":"duo"},addOrder:function(){var i=this;this.$u.api.buyGupiao({fangxiang:this.fangxiang,type:0,pro_id:this.id,buytype:this.buytype_data,price:this.nowgupiao,shuliang:this.zhangshu}).then((function(e){t("log",e," at pagesA/gupiao/detail.vue:425"),i.$refs.uToast.show({title:e.msg,type:"success"})}))},open_buy_modal:function(){this.show_buy_modal=!0},addZixuan:function(){var i=this,e=this;this.$u.api.addZixuan({id:this.id}).then((function(a){t("log",a," at pagesA/gupiao/detail.vue:441"),"addsuccess"==a.action?i.zixuan_status="star-fill":i.zixuan_status="star",e.$refs.uToast.show({title:a.msg,type:"success"})}))},isZixuan:function(){var i=this;this.$u.api.isZixuan({id:this.id}).then((function(e){t("log",e.msg," at pagesA/gupiao/detail.vue:458"),"yes"==e.msg?i.zixuan_status="star-fill":i.zixuan_status="star"}))},getpankou:function(){var i=this;this.$u.api.getpankou({id:this.id}).then((function(e){t("log","pankou",e," at pagesA/gupiao/detail.vue:472"),i.pankou=e}))}}};i.default=a}).call(this,e("0de9")["log"])},"91bf":function(t,i,e){var a=e("34e6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("e2376154",a,!0,{sourceMap:!1,shadowMode:!1})},"91d4":function(t,i,e){"use strict";var a=e("005a"),n=e.n(a);n.a},bbb0:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return a}));var a={uNavbar:e("ffbf").default,uIcon:e("7eee").default,uTabs:e("1bd6").default,qiunDataCharts:e("0092").default,uSubsection:e("5570").default,uGap:e("852c").default,uNumberBox:e("633a").default,uButton:e("c175").default,uLine:e("4861").default,uToast:e("bd25").default,uModal:e("da34").default},n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"wrap"},[e("u-navbar",{attrs:{title:t.gupiao.name}}),e("v-uni-view",{staticClass:"hd u-padding-30 u-relative"},[e("v-uni-view",{staticClass:"zixuan",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addZixuan.apply(void 0,arguments)}}},[e("u-icon",{attrs:{name:t.zixuan_status,label:"加自選","label-color":"#fff"}})],1),e("v-uni-view",{staticClass:"u-font-40"},[t._v(t._s(t.gupiao.name))]),e("v-uni-view",{staticClass:"u-flex"},[e("v-uni-view",{staticClass:"u-flex-1 u-font-36"},[t._v(t._s(t.gupiao.price))]),e("v-uni-view",{staticClass:"u-flex-1"},[e("v-uni-view",[t.gupiao.zhangdieshu>0?e("v-uni-text",[t._v("+")]):t._e(),t._v(t._s(t.gupiao.zhangdieshu))],1),e("v-uni-view",[t.gupiao.zhangdiebaifenbi>0?e("v-uni-text",[t._v("+")]):t._e(),t._v(t._s(t.gupiao.zhangdiebaifenbi)+"%")],1)],1)],1),e("v-uni-view",{staticClass:"u-flex"},[e("v-uni-view",{staticClass:"u-flex-1"},[t._v("今開價:"+t._s(t.gupiao.open))]),e("v-uni-view",{staticClass:"u-flex-1"},[t._v("昨收價:"+t._s(t.gupiao.close))])],1),e("v-uni-view",{staticClass:"u-flex"},[e("v-uni-view",{staticClass:"u-flex-1"},[t._v("最高價:"+t._s(t.gupiao.high))]),e("v-uni-view",{staticClass:"u-flex-1"},[t._v("最低價:"+t._s(t.gupiao.low))])],1),e("v-uni-view",{staticClass:"u-flex"},[e("v-uni-view",{staticClass:"u-flex-1"},[t._v("成交量:"+t._s(t.gupiao.vol))]),e("v-uni-view",{staticClass:"u-flex-1"},[t._v("成交額:"+t._s(t.gupiao.turnover))])],1)],1),e("v-uni-view",{staticClass:"content"},[e("u-tabs",{attrs:{list:t.list,"is-scroll":!1,current:t.current,"active-color":"#f00"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.change_interval.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"charts-box",staticStyle:{height:"600rpx"}},[e("qiun-data-charts",{attrs:{type:"candle",opts:{extra:{tooltip:{showCategory:!0}},xAxis:{scrollAlign:"right",disabled:!0}},ontouch:!0,canvas2d:!0,onzoom:!0,canvasId:"klineid",chartData:t.chartsDataCandle1}})],1)],1),e("v-uni-view",{staticClass:"container u-flex u-col-top"},[e("v-uni-view",{staticClass:"u-flex-1 u-margin-right-10"},[e("u-subsection",{attrs:{list:t.price_type,current:t.curNow,"active-color":"#fff","button-color":"#2979ff"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.sectionChange.apply(void 0,arguments)}}}),e("u-gap",{attrs:{height:"30"}}),e("v-uni-view",{staticClass:"u-flex u-row-center"},[t.show_nowprice?e("u-number-box",{attrs:{"positive-integer":!1,step:.1,"input-width":"200","input-height":"70"},model:{value:t.nowgupiao,callback:function(i){t.nowgupiao=i},expression:"nowgupiao"}}):t._e()],1),e("u-gap",{attrs:{height:"30"}}),e("v-uni-view",[t._v("數量（張）")]),e("v-uni-view",{staticClass:"u-flex u-row-center"},[e("u-number-box",{attrs:{"positive-integer":!1,"input-width":"200","input-height":"70"},model:{value:t.zhangshu,callback:function(i){t.zhangshu=i},expression:"zhangshu"}})],1),e("u-gap",{attrs:{height:"30"}}),e("u-subsection",{attrs:{list:t.buy_type,current:t.curNow2,"active-color":"#fff","button-color":"#f00"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.sectionChange2.apply(void 0,arguments)}}}),e("u-gap",{attrs:{height:"30"}}),e("u-button",{attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.open_buy_modal.apply(void 0,arguments)}}},[t._v("買入")])],1),e("v-uni-view",{staticClass:"pankou u-flex-1 u-margin-left-10"},[e("v-uni-view",{staticClass:"weisell u-flex"},[e("v-uni-view",[t._v("委賣")]),e("v-uni-view",{staticClass:"list u-flex-1 u-margin-left-20"},[e("v-uni-view",{staticClass:"item u-flex"},[e("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.sell5_price))]),e("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.sell5_num))])],1),e("v-uni-view",{staticClass:"item u-flex"},[e("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.sell4_price))]),e("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.sell4_num))])],1),e("v-uni-view",{staticClass:"item u-flex"},[e("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.sell3_price))]),e("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.sell3_num))])],1),e("v-uni-view",{staticClass:"item u-flex"},[e("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.sell2_price))]),e("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.sell2_num))])],1),e("v-uni-view",{staticClass:"item u-flex"},[e("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.sell1_price))]),e("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.sell1_num))])],1)],1)],1),e("u-line",{attrs:{color:"gray"}}),e("v-uni-view",{staticClass:"weibuy u-flex"},[e("v-uni-view",[t._v("委買")]),e("v-uni-view",{staticClass:"list u-flex-1 u-margin-left-20"},[e("v-uni-view",{staticClass:"item u-flex"},[e("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.buy1_price))]),e("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.buy1_num))])],1),e("v-uni-view",{staticClass:"item u-flex"},[e("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.buy2_price))]),e("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.buy2_num))])],1),e("v-uni-view",{staticClass:"item u-flex"},[e("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.buy3_price))]),e("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.buy3_num))])],1),e("v-uni-view",{staticClass:"item u-flex"},[e("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.buy4_price))]),e("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.buy4_num))])],1),e("v-uni-view",{staticClass:"item u-flex"},[e("v-uni-view",{staticClass:"u-content-color u-font-24"},[t._v(t._s(t.pankou.buy5_price))]),e("v-uni-view",{staticClass:"u-light-color u-font-24 u-text-right u-flex-1"},[t._v(t._s(t.pankou.buy5_num))])],1)],1)],1)],1)],1),e("u-toast",{ref:"uToast"}),e("u-modal",{attrs:{content:"確定買入嗎？","confirm-text":"確定","show-cancel-button":!0},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.addOrder.apply(void 0,arguments)}},model:{value:t.show_buy_modal,callback:function(i){t.show_buy_modal=i},expression:"show_buy_modal"}})],1)},s=[]},cd85:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return a}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"u-line",style:[t.lineStyle]})},s=[]},cf8e:function(t,i,e){"use strict";e.r(i);var a=e("bbb0"),n=e("f511");for(var s in n)"default"!==s&&function(t){e.d(i,t,(function(){return n[t]}))}(s);e("e146");var u,o=e("f0c5"),l=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"00b18ec0",null,!1,a["a"],u);i["default"]=l.exports},e146:function(t,i,e){"use strict";var a=e("91bf"),n=e.n(a);n.a},f36b:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-line[data-v-c7c48cc8]{vertical-align:middle}',""]),t.exports=i},f511:function(t,i,e){"use strict";e.r(i);var a=e("69c6"),n=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(i,t,(function(){return a[t]}))}(s);i["default"]=n.a}}]);