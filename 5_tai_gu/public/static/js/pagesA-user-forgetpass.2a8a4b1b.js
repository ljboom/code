(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-user-forgetpass"],{"29ee":function(t,e,a){"use strict";a("c975"),a("a9e3"),a("d3b7"),a("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"u-button",props:{hairLine:{type:Boolean,default:!0},type:{type:String,default:"default"},size:{type:String,default:"default"},shape:{type:String,default:"square"},plain:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},openType:{type:String,default:""},formType:{type:String,default:""},appParameter:{type:String,default:""},hoverStopPropagation:{type:Boolean,default:!1},lang:{type:String,default:"en"},sessionFrom:{type:String,default:""},sendMessageTitle:{type:String,default:""},sendMessagePath:{type:String,default:""},sendMessageImg:{type:String,default:""},showMessageCard:{type:Boolean,default:!1},hoverBgColor:{type:String,default:""},rippleBgColor:{type:String,default:""},ripple:{type:Boolean,default:!1},hoverClass:{type:String,default:""},customStyle:{type:Object,default:function(){return{}}},dataName:{type:String,default:""},throttleTime:{type:[String,Number],default:1e3},hoverStartTime:{type:[String,Number],default:20},hoverStayTime:{type:[String,Number],default:150}},computed:{getHoverClass:function(){if(this.loading||this.disabled||this.ripple||this.hoverClass)return"";var t="";return t=this.plain?"u-"+this.type+"-plain-hover":"u-"+this.type+"-hover",t},showHairLineBorder:function(){return["primary","success","error","warning"].indexOf(this.type)>=0&&!this.plain?"":"u-hairline-border"}},data:function(){return{rippleTop:0,rippleLeft:0,fields:{},waveActive:!1}},methods:{click:function(t){var e=this;this.$u.throttle((function(){!0!==e.loading&&!0!==e.disabled&&(e.ripple&&(e.waveActive=!1,e.$nextTick((function(){this.getWaveQuery(t)}))),e.$emit("click",t))}),this.throttleTime)},getWaveQuery:function(t){var e=this;this.getElQuery().then((function(a){var r=a[0];if(r.width&&r.width&&(r.targetWidth=r.height>r.width?r.height:r.width,r.targetWidth)){e.fields=r;var o="",n="";o=t.touches[0].clientX,n=t.touches[0].clientY,e.rippleTop=n-r.top-r.targetWidth/2,e.rippleLeft=o-r.left-r.targetWidth/2,e.$nextTick((function(){e.waveActive=!0}))}}))},getElQuery:function(){var t=this;return new Promise((function(e){var a="";a=uni.createSelectorQuery().in(t),a.select(".u-btn").boundingClientRect(),a.exec((function(t){e(t)}))}))},getphonenumber:function(t){this.$emit("getphonenumber",t)},getuserinfo:function(t){this.$emit("getuserinfo",t)},error:function(t){this.$emit("error",t)},opensetting:function(t){this.$emit("opensetting",t)},launchapp:function(t){this.$emit("launchapp",t)}}};e.default=r},"357d":function(t,e,a){var r=a("6cf2");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=a("4f06").default;o("537d5d70",r,!0,{sourceMap:!1,shadowMode:!1})},"66cb":function(t,e,a){var r=a("e540");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=a("4f06").default;o("3c5593e3",r,!0,{sourceMap:!1,shadowMode:!1})},"6cf2":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-btn[data-v-6e0a9fb2]::after{border:none}.u-btn[data-v-6e0a9fb2]{position:relative;border:0;display:inline-flex;overflow:visible;line-height:1;display:flex;flex-direction:row;align-items:center;justify-content:center;cursor:pointer;padding:0 %?40?%;z-index:1;box-sizing:border-box;transition:all .15s}.u-btn--bold-border[data-v-6e0a9fb2]{border:1px solid #fff}.u-btn--default[data-v-6e0a9fb2]{color:#606266;border-color:#c0c4cc;background-color:#fff}.u-btn--primary[data-v-6e0a9fb2]{color:#fff;border-color:#2979ff;background-color:#2979ff}.u-btn--success[data-v-6e0a9fb2]{color:#fff;border-color:#19be6b;background-color:#19be6b}.u-btn--error[data-v-6e0a9fb2]{color:#fff;border-color:#fa3534;background-color:#fa3534}.u-btn--warning[data-v-6e0a9fb2]{color:#fff;border-color:#f90;background-color:#f90}.u-btn--default--disabled[data-v-6e0a9fb2]{color:#fff;border-color:#e4e7ed;background-color:#fff}.u-btn--primary--disabled[data-v-6e0a9fb2]{color:#fff!important;border-color:#a0cfff!important;background-color:#a0cfff!important}.u-btn--success--disabled[data-v-6e0a9fb2]{color:#fff!important;border-color:#71d5a1!important;background-color:#71d5a1!important}.u-btn--error--disabled[data-v-6e0a9fb2]{color:#fff!important;border-color:#fab6b6!important;background-color:#fab6b6!important}.u-btn--warning--disabled[data-v-6e0a9fb2]{color:#fff!important;border-color:#fcbd71!important;background-color:#fcbd71!important}.u-btn--primary--plain[data-v-6e0a9fb2]{color:#2979ff!important;border-color:#a0cfff!important;background-color:#ecf5ff!important}.u-btn--success--plain[data-v-6e0a9fb2]{color:#19be6b!important;border-color:#71d5a1!important;background-color:#dbf1e1!important}.u-btn--error--plain[data-v-6e0a9fb2]{color:#fa3534!important;border-color:#fab6b6!important;background-color:#fef0f0!important}.u-btn--warning--plain[data-v-6e0a9fb2]{color:#f90!important;border-color:#fcbd71!important;background-color:#fdf6ec!important}.u-hairline-border[data-v-6e0a9fb2]:after{content:" ";position:absolute;pointer-events:none;box-sizing:border-box;-webkit-transform-origin:0 0;transform-origin:0 0;left:0;top:0;width:199.8%;height:199.7%;-webkit-transform:scale(.5);transform:scale(.5);border:1px solid currentColor;z-index:1}.u-wave-ripple[data-v-6e0a9fb2]{z-index:0;position:absolute;border-radius:100%;background-clip:padding-box;pointer-events:none;-webkit-user-select:none;user-select:none;-webkit-transform:scale(0);transform:scale(0);opacity:1;-webkit-transform-origin:center;transform-origin:center}.u-wave-ripple.u-wave-active[data-v-6e0a9fb2]{opacity:0;-webkit-transform:scale(2);transform:scale(2);transition:opacity 1s linear,-webkit-transform .4s linear;transition:opacity 1s linear,transform .4s linear;transition:opacity 1s linear,transform .4s linear,-webkit-transform .4s linear}.u-round-circle[data-v-6e0a9fb2]{border-radius:%?100?%}.u-round-circle[data-v-6e0a9fb2]::after{border-radius:%?100?%}.u-loading[data-v-6e0a9fb2]::after{background-color:hsla(0,0%,100%,.35)}.u-size-default[data-v-6e0a9fb2]{font-size:%?30?%;height:%?80?%;line-height:%?80?%}.u-size-medium[data-v-6e0a9fb2]{display:inline-flex;width:auto;font-size:%?26?%;height:%?70?%;line-height:%?70?%;padding:0 %?80?%}.u-size-mini[data-v-6e0a9fb2]{display:inline-flex;width:auto;font-size:%?22?%;padding-top:1px;height:%?50?%;line-height:%?50?%;padding:0 %?20?%}.u-primary-plain-hover[data-v-6e0a9fb2]{color:#fff!important;background:#2b85e4!important}.u-default-plain-hover[data-v-6e0a9fb2]{color:#2b85e4!important;background:#ecf5ff!important}.u-success-plain-hover[data-v-6e0a9fb2]{color:#fff!important;background:#18b566!important}.u-warning-plain-hover[data-v-6e0a9fb2]{color:#fff!important;background:#f29100!important}.u-error-plain-hover[data-v-6e0a9fb2]{color:#fff!important;background:#dd6161!important}.u-info-plain-hover[data-v-6e0a9fb2]{color:#fff!important;background:#82848a!important}.u-default-hover[data-v-6e0a9fb2]{color:#2b85e4!important;border-color:#2b85e4!important;background-color:#ecf5ff!important}.u-primary-hover[data-v-6e0a9fb2]{background:#2b85e4!important;color:#fff}.u-success-hover[data-v-6e0a9fb2]{background:#18b566!important;color:#fff}.u-info-hover[data-v-6e0a9fb2]{background:#82848a!important;color:#fff}.u-warning-hover[data-v-6e0a9fb2]{background:#f29100!important;color:#fff}.u-error-hover[data-v-6e0a9fb2]{background:#dd6161!important;color:#fff}',""]),t.exports=e},7844:function(t,e,a){"use strict";(function(t){a("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{username:"",password:"",passwordIcon:!0,border:!0,phoneNum:""}},computed:{inputStyle:function(){var t={};return this.username&&this.password&&(t.color="#fff",t.backgroundColor=this.$u.color["warning"]),t}},onLoad:function(){},methods:{decryptPhoneNumber:function(e){var a=this;t("log",e," at pagesA/user/forgetpass.vue:48"),this.$u.api.getPhone({EncryptedData:e.detail.encryptedData,Iv:e.detail.iv,SessionKey:getApp().globalData.session_key}).then((function(e){t("log",e[0]," at pagesA/user/forgetpass.vue:54"),a.phoneNum=e[0].phoneNumber,a.$refs.uToast.show({title:"授权成功",type:"success"})}))},submit:function(){var e=this,a=this;if(""==this.username.trim())return this.$refs.uToast.show({title:"请填写工号",type:"warning"}),!1;if(""==this.password.trim())return this.$refs.uToast.show({title:"请填写密码",type:"warning"}),!1;if(""==this.phoneNum.trim())return this.$refs.uToast.show({title:"请同意授权",type:"warning"}),!1;var r=(new Date).getTime();this.$u.api.Login({iRequestType:3,iRequestCode:1,D_ID:this.username,D_OpenID:getApp().globalData.openid,dDate:this.$u.timeFormat(r,"yyyy-mm-dd hh:MM:ss"),PageIndex:1,PageSize:10,vExpression:"vUserName='"+this.username+"' AND vPassword='"+this.password+"' AND vMobilphone='"+this.phoneNum+"'"}).then((function(r){t("log",r," at pagesA/user/forgetpass.vue:103"),r[0].loginin,r[0].User_ID,"true"==r[0].loginin?(getApp().globalData.isLogin=!0,getApp().globalData.userId=r[0].User_ID,e.$refs.uToast.show({title:"登录成功",type:"success",callback:function(){a.$u.route({url:"pages/index/index",type:"reLaunch"})}})):(getApp().globalData.isLogin=!1,getApp().globalData.userId="")}))}}};e.default=r}).call(this,a("0de9")["log"])},8580:function(t,e,a){"use strict";a.r(e);var r=a("b0e8"),o=a("9b2b");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("b64e");var i,s=a("f0c5"),u=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,"3056cb10",null,!1,r["a"],i);e["default"]=u.exports},8727:function(t,e,a){"use strict";var r=a("357d"),o=a.n(r);o.a},"9b2b":function(t,e,a){"use strict";a.r(e);var r=a("7844"),o=a.n(r);for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=o.a},"9dc3":function(t,e,a){"use strict";a.r(e);var r=a("29ee"),o=a.n(r);for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=o.a},b0e8:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var r={uInput:a("9181").default,uButton:a("c175").default,uToast:a("bd25").default},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"wrap"},[a("v-uni-view",{staticClass:"top"}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"title"},[t._v("火凤凰小程序")]),a("u-input",{staticClass:"u-border-bottom",attrs:{type:"text",border:t.border,placeholder:"工号"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-uni-view",{staticClass:"tips"},[t._v("请输入您在ERP系统中的系统工号")]),a("u-input",{staticClass:"u-border-bottom",attrs:{type:"password",border:t.border,placeholder:"密码","password-icon":t.passwordIcon},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-uni-view",{staticClass:"tips"},[t._v("请输入您在ERP系统中的系统密码")]),a("u-button",{attrs:{type:"primary","open-type":"getPhoneNumber"},on:{getphonenumber:function(e){arguments[0]=e=t.$handleEvent(e),t.decryptPhoneNumber.apply(void 0,arguments)}}},[t._v("获取授权")]),a("v-uni-view",{staticStyle:{height:"30rpx"}}),a("v-uni-button",{staticClass:"getCaptcha",style:[t.inputStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("登录")]),a("v-uni-view",{staticClass:"alternative"},[a("v-uni-view",{staticClass:"password"},[t._v("密码登录")]),a("v-uni-view",{staticClass:"issue"},[t._v("遇到问题")])],1)],1),a("u-toast",{ref:"uToast"})],1)},n=[]},b64e:function(t,e,a){"use strict";var r=a("66cb"),o=a.n(r);o.a},c175:function(t,e,a){"use strict";a.r(e);var r=a("e02c"),o=a("9dc3");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("8727");var i,s=a("f0c5"),u=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,"6e0a9fb2",null,!1,r["a"],i);e["default"]=u.exports},e02c:function(t,e,a){"use strict";var r;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-button",{staticClass:"u-btn u-line-1 u-fix-ios-appearance",class:["u-size-"+t.size,t.plain?"u-btn--"+t.type+"--plain":"",t.loading?"u-loading":"","circle"==t.shape?"u-round-circle":"",t.hairLine?t.showHairLineBorder:"u-btn--bold-border","u-btn--"+t.type,t.disabled?"u-btn--"+t.type+"--disabled":""],style:[t.customStyle,{overflow:t.ripple?"hidden":"visible"}],attrs:{id:"u-wave-btn","hover-start-time":Number(t.hoverStartTime),"hover-stay-time":Number(t.hoverStayTime),disabled:t.disabled,"form-type":t.formType,"open-type":t.openType,"app-parameter":t.appParameter,"hover-stop-propagation":t.hoverStopPropagation,"send-message-title":t.sendMessageTitle,"send-message-path":"sendMessagePath",lang:t.lang,"data-name":t.dataName,"session-from":t.sessionFrom,"send-message-img":t.sendMessageImg,"show-message-card":t.showMessageCard,"hover-class":t.getHoverClass,loading:t.loading},on:{getphonenumber:function(e){arguments[0]=e=t.$handleEvent(e),t.getphonenumber.apply(void 0,arguments)},getuserinfo:function(e){arguments[0]=e=t.$handleEvent(e),t.getuserinfo.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.error.apply(void 0,arguments)},opensetting:function(e){arguments[0]=e=t.$handleEvent(e),t.opensetting.apply(void 0,arguments)},launchapp:function(e){arguments[0]=e=t.$handleEvent(e),t.launchapp.apply(void 0,arguments)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.click(e)}}},[t._t("default"),t.ripple?a("v-uni-view",{staticClass:"u-wave-ripple",class:[t.waveActive?"u-wave-active":""],style:{top:t.rippleTop+"px",left:t.rippleLeft+"px",width:t.fields.targetWidth+"px",height:t.fields.targetWidth+"px","background-color":t.rippleBgColor||"rgba(0, 0, 0, 0.15)"}}):t._e()],2)},n=[]},e540:function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.wrap[data-v-3056cb10]{font-size:%?28?%}.wrap .content[data-v-3056cb10]{width:%?600?%;margin:%?80?% auto 0}.wrap .content .title[data-v-3056cb10]{text-align:left;font-size:%?60?%;font-weight:500;margin-bottom:%?100?%}.wrap .content uni-input[data-v-3056cb10]{text-align:left;margin-bottom:%?10?%;padding-bottom:%?6?%}.wrap .content .tips[data-v-3056cb10]{color:#909399;margin-bottom:%?60?%;margin-top:%?8?%}.wrap .content .getCaptcha[data-v-3056cb10]{background-color:#fdf3d0;color:#909399;border:none;font-size:%?30?%;padding:%?12?% 0}.wrap .content .getCaptcha[data-v-3056cb10]::after{border:none}.wrap .content .alternative[data-v-3056cb10]{color:#909399;display:flex;justify-content:space-between;margin-top:%?30?%}.wrap .content .u-border-bottom[data-v-3056cb10]{border:none;border-bottom:1px solid #e5e5e5!important}.wrap .buttom .loginType[data-v-3056cb10]{display:flex;padding:%?350?% %?150?% %?150?% %?150?%;justify-content:space-between}.wrap .buttom .loginType .item[data-v-3056cb10]{display:flex;flex-direction:column;align-items:center;color:#606266;font-size:%?28?%}.wrap .buttom .hint[data-v-3056cb10]{padding:%?20?% %?40?%;font-size:%?20?%;color:#909399}.wrap .buttom .hint .link[data-v-3056cb10]{color:#f90}',""]),t.exports=e}}]);