(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-real_name-real_name"],{"0dba":function(t,i,e){"use strict";e.r(i);var n=e("450d"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},"22b5":function(t,i,e){"use strict";e("c975"),e("a9e3"),e("b64b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"u-toast",props:{zIndex:{type:[Number,String],default:""}},data:function(){return{isShow:!1,timer:null,config:{params:{},title:"",type:"",duration:2e3,isTab:!1,url:"",icon:!0,position:"center",callback:null,back:!1},tmpConfig:{}}},computed:{iconName:function(){if(["error","warning","success","info"].indexOf(this.tmpConfig.type)>=0&&this.tmpConfig.icon){var t=this.$u.type2icon(this.tmpConfig.type);return t}},uZIndex:function(){return this.isShow?this.zIndex?this.zIndex:this.$u.zIndex.toast:"999999"}},methods:{show:function(t){var i=this;this.tmpConfig=this.$u.deepMerge(this.config,t),this.timer&&(clearTimeout(this.timer),this.timer=null),this.isShow=!0,this.timer=setTimeout((function(){i.isShow=!1,clearTimeout(i.timer),i.timer=null,"function"===typeof i.tmpConfig.callback&&i.tmpConfig.callback(),i.timeEnd()}),this.tmpConfig.duration)},hide:function(){this.isShow=!1,this.timer&&(clearTimeout(this.timer),this.timer=null)},timeEnd:function(){if(this.tmpConfig.url){if("/"!=this.tmpConfig.url[0]&&(this.tmpConfig.url="/"+this.tmpConfig.url),Object.keys(this.tmpConfig.params).length){var t="";/.*\/.*\?.*=.*/.test(this.tmpConfig.url)?(t=this.$u.queryParams(this.tmpConfig.params,!1),this.tmpConfig.url=this.tmpConfig.url+"&"+t):(t=this.$u.queryParams(this.tmpConfig.params),this.tmpConfig.url+=t)}this.tmpConfig.isTab?uni.switchTab({url:this.tmpConfig.url}):uni.navigateTo({url:this.tmpConfig.url})}else this.tmpConfig.back&&this.$u.route({type:"back"})}}};i.default=n},"34a1":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}));var n={uIcon:e("772c").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"u-toast",class:[t.isShow?"u-show":"","u-type-"+t.tmpConfig.type,"u-position-"+t.tmpConfig.position],style:{zIndex:t.uZIndex}},[e("v-uni-view",{staticClass:"u-icon-wrap"},[t.tmpConfig.icon?e("u-icon",{staticClass:"u-icon",attrs:{name:t.iconName,size:30,color:t.tmpConfig.type}}):t._e()],1),e("v-uni-text",{staticClass:"u-text"},[t._v(t._s(t.tmpConfig.title))])],1)},o=[]},"450d":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{form:{true_name:"",id_card:"",id_card_img_1:"",id_card_img_2:"",status_msg:null,status:9},userinfo:[]}},onLoad:function(){this.getUserInfo(),this.getRealname()},methods:{uploadImage:function(t){var i=this;return 0==this.form.status?this.$refs.uToast.show({title:"实名认证審核中",type:"warning"}):1==this.form.status?this.$refs.uToast.show({title:"实名认证已通过",type:"warning"}):void uni.chooseImage({success:function(e){var n=e.tempFilePaths;uni.uploadFile({url:i.$baseUrl+"/api.php/common/upload",filePath:n[0],name:"file",header:{token:uni.getStorageSync("token")},success:function(e){var n=JSON.parse(e.data);if(1!=n.code)return i.$refs.uToast.show({title:"上传失败",type:"warning"});switch(t){case 1:i.form.id_card_img_1=n.data.fullurl;break;case 2:i.form.id_card_img_2=n.data.fullurl;break}}})}})},submitRealName:function(){var t=this;if(1==this.userinfo.is_auth)return this.$refs.uToast.show({title:"已通过实名认证，请勿重复提交",type:"warning"});if(0==this.form.status)return this.$refs.uToast.show({title:"实名认证審核中",type:"warning"});var i=this;this.$u.api.subRealname(this.form).then((function(i){t.$refs.uToast.show({title:"认证已提交審核",type:"success"}),setTimeout((function(){uni.navigateBack({delta:1})}),800)})).catch((function(t){401==t.statusCode&&i.$refs.uToast.show({title:t.data.msg,type:"warning",callback:function(){i.$u.route({url:"pages/index/index",type:"redirectTo"})}})}))},getUserInfo:function(){var t=this,i=this;this.$u.api.getUserInfo({}).then((function(i){t.userinfo=i})).catch((function(t){401==t.statusCode&&i.$refs.uToast.show({title:t.data.msg,type:"warning",callback:function(){i.$u.route({url:"pages/index/index",type:"redirectTo"})}})}))},getRealname:function(){var t=this;uni.showLoading({title:"信息加载中",mask:!0});var i=this;this.$u.api.getRealname({}).then((function(i){null!=i&&(t.form=i)})).catch((function(t){401==t.statusCode&&i.$refs.uToast.show({title:t.data.msg,type:"warning",callback:function(){i.$u.route({url:"pages/index/index",type:"redirectTo"})}})}))}}};i.default=n},5356:function(t,i,e){"use strict";e.r(i);var n=e("34a1"),a=e("5edc");for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("dc80");var r,s=e("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"070c62ba",null,!1,n["a"],r);i["default"]=u.exports},"5edc":function(t,i,e){"use strict";e.r(i);var n=e("22b5"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},"6c71":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.wrap[data-v-be4ddb2e]{padding:%?30?%;box-sizing:border-box}.input-item[data-v-be4ddb2e]{display:flex;align-items:center;justify-content:space-between;padding:%?40?% 0;padding-bottom:%?30?%;box-sizing:border-box}',""]),t.exports=i},"7a92":function(t,i,e){var n=e("6c71");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("f8ff93a6",n,!0,{sourceMap:!1,shadowMode:!1})},8689:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}));var n={uToast:e("5356").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"wrap"},[e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:2==t.form.status,expression:"form.status == 2"}],staticStyle:{height:"50px",width:"100%","background-color":"#ff815e",color:"#fff",display:"flex","align-items":"center",padding:"15rpx"}},[t._v("驳回原因：您的实名认证已被驳回，因为"+t._s(t.form.status_msg))]),e("v-uni-view",{staticClass:"input-item",staticStyle:{"border-bottom":"1px solid #ccc"}},[e("v-uni-view",{staticStyle:{"font-size":"16px"}},[t._v("身分證姓名")]),e("v-uni-view",{},[e("v-uni-input",{staticStyle:{"text-align":"right"},attrs:{type:"text",placeholder:"请输入身分證姓名"},model:{value:t.form.true_name,callback:function(i){t.$set(t.form,"true_name",i)},expression:"form.true_name"}})],1)],1),e("v-uni-view",{staticClass:"input-item",staticStyle:{"padding-top":"30rpx"}},[e("v-uni-view",{staticStyle:{"font-size":"16px"}},[t._v("身分證號碼")]),e("v-uni-view",{},[e("v-uni-input",{staticStyle:{"text-align":"right"},attrs:{type:"text",placeholder:"请输入身分證號碼"},model:{value:t.form.id_card,callback:function(i){t.$set(t.form,"id_card",i)},expression:"form.id_card"}})],1)],1),e("v-uni-view",{staticClass:"input-item",staticStyle:{"padding-top":"10rpx","padding-bottom":"0rpx"}},[e("v-uni-view",{staticStyle:{width:"100%",height:"120px","background-color":"#121213","border-radius":"20rpx",display:"flex","justify-content":"space-between","align-items":"center",padding:"20rpx","box-sizing":"border-box"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.uploadImage(1)}}},[e("v-uni-view",{staticStyle:{height:"60%",display:"flex",width:"45%","flex-wrap":"wrap","align-items":"center"}},[e("v-uni-view",{staticStyle:{color:"#fff"}},[t._v("身分證正面")]),e("v-uni-view",{staticStyle:{color:"#626262"}},[t._v("上傳您的身分證正面")])],1),e("v-uni-view",{},[e("v-uni-image",{staticStyle:{height:"90px",width:"140px"},attrs:{src:""!=t.form.id_card_img_1?t.form.id_card_img_1:"/static/img/zheng.png",mode:""}})],1)],1)],1),e("v-uni-view",{staticClass:"input-item"},[e("v-uni-view",{staticStyle:{width:"100%",height:"120px","background-color":"#121213","border-radius":"20rpx",display:"flex","justify-content":"space-between","align-items":"center",padding:"20rpx","box-sizing":"border-box"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.uploadImage(2)}}},[e("v-uni-view",{staticStyle:{height:"60%",display:"flex",width:"45%","flex-wrap":"wrap","align-items":"center"}},[e("v-uni-view",{staticStyle:{color:"#fff"}},[t._v("身分證反面")]),e("v-uni-view",{staticStyle:{color:"#626262"}},[t._v("上傳您的身分證反面")])],1),e("v-uni-view",{},[e("v-uni-image",{staticStyle:{height:"90px",width:"140px"},attrs:{src:""!=t.form.id_card_img_2?t.form.id_card_img_2:"/static/img/fan.png",mode:""}})],1)],1)],1),9==t.form.status||2==t.form.status?e("v-uni-view",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","margin-top":"15rpx"}},[e("v-uni-button",{staticStyle:{width:"80%",height:"48px",color:"#fff",background:"linear-gradient(90deg, #ffbc66, #ff815e)","border-radius":"0"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submitRealName()}}},[t._v("認 證")])],1):t._e()],1),e("u-toast",{ref:"uToast"})],1)},o=[]},"9b01":function(t,i,e){"use strict";var n=e("7a92"),a=e.n(n);a.a},c795:function(t,i,e){"use strict";e.r(i);var n=e("8689"),a=e("0dba");for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("9b01");var r,s=e("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"be4ddb2e",null,!1,n["a"],r);i["default"]=u.exports},dc80:function(t,i,e){"use strict";var n=e("dfb8"),a=e.n(n);a.a},dfb8:function(t,i,e){var n=e("e911");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("3b984e28",n,!0,{sourceMap:!1,shadowMode:!1})},e911:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-toast[data-v-070c62ba]{position:fixed;z-index:-1;transition:opacity .3s;text-align:center;color:#fff;border-radius:%?8?%;background:#585858;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:%?28?%;opacity:0;pointer-events:none;padding:%?18?% %?40?%}.u-toast.u-show[data-v-070c62ba]{opacity:1}.u-icon[data-v-070c62ba]{margin-right:%?10?%;display:flex;flex-direction:row;align-items:center;line-height:normal}.u-position-center[data-v-070c62ba]{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:70%}.u-position-top[data-v-070c62ba]{left:50%;top:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-position-bottom[data-v-070c62ba]{left:50%;bottom:20%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.u-type-primary[data-v-070c62ba]{color:#2979ff;background-color:#ecf5ff;border:1px solid #d7eafe}.u-type-success[data-v-070c62ba]{color:#19be6b;background-color:#dbf1e1;border:1px solid #bef5c8}.u-type-error[data-v-070c62ba]{color:#fa3534;background-color:#fef0f0;border:1px solid #fde2e2}.u-type-warning[data-v-070c62ba]{color:#f90;background-color:#fdf6ec;border:1px solid #faecd8}.u-type-info[data-v-070c62ba]{color:#909399;background-color:#f4f4f5;border:1px solid #ebeef5}.u-type-default[data-v-070c62ba]{color:#fff;background-color:#585858}',""]),t.exports=i}}]);