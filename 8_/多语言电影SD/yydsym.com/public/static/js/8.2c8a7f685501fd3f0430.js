webpackJsonp([8],{Tnnp:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("oWmu"),i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"PageBox",staticStyle:{padding:"0"}},[o("div",{staticClass:"ScrollBox"},[o("div",{staticClass:"PromoteInfo",style:"background-image: url('./static/images/login-bg-new.jpg')"},[o("div",{staticClass:"logo"},[o("img",{attrs:{src:"./static/images/logo_new1.png"}})]),t._v(" "),o("div",{staticStyle:{"background-color":"rgba(0,0,0,0.7)",padding:"16px 12px",width:"100%","border-radius":"10px"}},[o("h4",[t._v(t._s(t.$t("promote[0]"))+" "+t._s(t.UserInfo.username))]),t._v(" "),o("h4",[t._v(t._s(t.$t("promote[1]",{title:" "+t.docTitle})))]),t._v(" "),o("div",{attrs:{id:"QRCode"}}),t._v(" "),o("h4",{staticClass:"m0"},[t._v(t._s(t.$t("promote[2]"))+"ï¼š"),o("span",{attrs:{id:"IosCode"}},[t._v(t._s(t.UserInfo.idcode))])]),t._v(" "),o("input",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"AppCode",type:"text",readonly:""},domProps:{value:t.UserInfo.idcode}}),t._v(" "),o("a",{staticClass:"color-green",attrs:{href:"javascript:;"},on:{click:function(e){return t.$Util.CopyText("IosCode","AppCode")}}},[o("van-icon",{attrs:{name:"description"}}),t._v("\n          "+t._s(t.$t("promote[3]"))+"\n        ")],1),t._v(" "),o("div",[o("span",{attrs:{id:"IosLink"}},[t._v(t._s(t.promoteUrl))]),t._v(" "),o("input",{staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"AppLink",type:"text",readonly:""},domProps:{value:t.promoteUrl}})]),t._v(" "),o("a",{staticClass:"color-green",attrs:{href:"javascript:;"},on:{click:function(e){return t.$Util.CopyText("IosLink","AppLink")}}},[o("van-icon",{attrs:{name:"description"}}),t._v("\n          "+t._s(t.$t("promote[4]"))+"\n        ")],1)]),t._v(" "),o("div",{staticStyle:{"margin-top":"20px",display:"flex","justify-content":"space-between"}},[o("van-button",{attrs:{block:"",type:"primary"},on:{click:t.saveQRCode}},[t._v(t._s(t.$t("promote[5]"))+"\n        ")])],1)])]),t._v(" "),o("van-popup",{staticStyle:{width:"100%",height:"100%"},attrs:{"close-on-popstate":"",closeable:"",position:"bottom"},model:{value:t.showReward,callback:function(e){t.showReward=e},expression:"showReward"}},[o("div",{staticClass:"ScrollBox"},[o("img",{attrs:{src:t.ApiUrl+"/static/images/reward-"+t.$i18n.locale+".jpg",width:"100%"}})])])],1)},staticRenderFns:[]};var s=function(t){o("xJg1")},n=o("VU/8")(a.a,i,!1,s,"data-v-a22e9b5c",null);e.default=n.exports},oWmu:function(t,e,o){"use strict";(function(t){var a=o("MJLE"),i=o.n(a);e.a={name:"Promote",components:{},props:["isReward"],data:function(){return{promoteUrl:"",saveN:0,showReward:!1,docTitle:document.title}},computed:{},watch:{},created:function(){this.isReward&&(this.showReward=!0),this.$parent.navBarTitle="",this.promoteUrl=this.InitData.setting.reg_url+"/#/register/"+this.UserInfo.idcode},mounted:function(){new i.a(document.getElementById("QRCode"),{text:this.promoteUrl,width:110,height:110,correctLevel:i.a.CorrectLevel.H})},activated:function(){},destroyed:function(){},methods:{saveQRCode:function(){var e=this;if(window.plus){this.saveN+=1;var o=t("#QRCode").find("img").attr("src").replace("data:image/png;base64,",""),a=new plus.nativeObj.Bitmap;a.loadBase64Data(o,function(){a.save("_doc/promote"+e.saveN+".jpg",{overwrite:!0,format:"jpg"},function(t){plus.gallery.save(t.target,function(t){e.$Dialog.Toast(e.$t("promote[7]"))},function(t){e.$Dialog.Toast(e.$t("promote[8]"))})},function(t){e.$Dialog.Toast(e.$t("promote[8]"))}),setTimeout(function(){a.recycle()},1e3)},function(t){e.$Dialog.Toast(e.$t("promote[8]"))})}else{o=t("#QRCode").find("img").attr("src");this.downCanvas(o)}},downCanvas:function(t){var e=document.createElement("a"),o=new MouseEvent("click");e.download="promote",e.href=t,e.dispatchEvent(o),t||this.$Dialog.Toast(this.$t("promote[9]"))}}}}).call(e,o("7t+N"))},xJg1:function(t,e){}});