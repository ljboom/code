webpackJsonp([1],{"4KEO":function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a={name:"Task",components:{},props:["tabsActive","taskGrade"],data:function(){return{taskType:"",tabsIndex:0,isStore:!1,listData:"",isLoad:!1,isFinished:!1,isRefresh:!1,pageNo:1}},computed:{},watch:{},created:function(){this.tabsIndex=this.tabsActive?Number(this.tabsActive):0,this.InitData.taskclasslist.length&&(this.taskType=this.InitData.taskclasslist.filter(function(t){return 1==t.state})[0].group_id,this.tabsActive&&(this.taskType=this.InitData.taskclasslist.filter(function(t){return 1==t.state})[this.tabsActive].group_id)),this.getListData("init")},mounted:function(){},activated:function(){},destroyed:function(){},methods:{changeTabs:function(t){this.taskType=this.InitData.taskclasslist.filter(function(t){return 1==t.state})[t].group_id,this.$router.push("/task/"+t),this.getListData("init")},openTaskList:function(t,i){var s=this;if(this.UserInfo.vip_level<t){var a=this.$t("task.index[1]",{currVip:this.UserInfo.useridentity,vip:i});this.$Dialog.Confirm(a,function(){s.$router.push("/vip")},this.$t("task.index[2]"))}else this.taskType?this.$router.push("/taskList/"+this.taskType+"/"+t):this.$Dialog.Toast(this.$t("task.index[3]"))},onLoad:function(){this.getListData("load")},getListData:function(t){var i=this;this.isLoad=!0,this.isRefresh=!1,"load"==t?this.pageNo+=1:(this.pageNo=1,this.isFinished=!1),this.$Model.GetTaskList({group_id:this.taskType,task_level:this.taskGrade,page_no:this.pageNo,is_u:0},function(s){i.$nextTick(function(){i.isLoad=!1}),1==s.code?("load"==t?1==i.pageNo?i.listData=s.info:i.listData=i.listData.concat(s.info):i.listData=s.info,i.pageNo==s.data_total_page?i.isFinished=!0:i.isFinished=!1):(i.listData="",i.isFinished=!0)})},onRefresh:function(){this.getListData("init")},receiveTask:function(t,i){var s=this;localStorage.Token?this.UserInfo.vip_level==i?this.$Model.ReceiveTask(t,function(t){1==t.code&&s.$router.push("/myTask")}):this.$Dialog.Toast(this.$t("home.noticeErr")):this.$router.push("/login")}}},e={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"Site IndexBox"},[s("div",{staticClass:"ScrollBox",staticStyle:{"padding-top":"3rem"}},[s("van-nav-bar",{attrs:{fixed:"",border:!1,title:t.$t("task.default[0]"),"left-arrow":""},on:{"click-left":function(i){return t.$router.go(-1)}}}),t._v(" "),s("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isRefresh,callback:function(i){t.isRefresh=i},expression:"isRefresh"}},[s("van-grid",{staticClass:"taskList",class:{Empty:!t.listData.length},attrs:{direction:"horizontal","column-num":2,border:!1,gutter:"10",finished:t.isFinished,"finished-text":t.listData.length?t.$t("vanPull[0]"):t.$t("vanPull[1]"),color:"#151d31"},on:{load:t.onLoad},model:{value:t.isLoad,callback:function(i){t.isLoad=i},expression:"isLoad"}},t._l(t.listData,function(i){return s("van-grid-item",{key:t.InitData.setting.up_url+i.task_id,staticClass:"TaskItem",attrs:{border:!1},on:{click:function(s){return t.receiveTask(i.task_id,i.task_level)}}},[s("div",{staticClass:"icon",staticStyle:{height:"17.5rem"},attrs:{slot:"icon"},slot:"icon"},[s("img",{staticClass:"image",attrs:{src:0==i.icon.indexOf("http")?i.icon:t.InitData.setting.up_url+i.icon}}),t._v(" "),s("van-tag",{staticClass:"vip-level",attrs:{type:"danger"}},[t._v(t._s(i.vip_dec))]),t._v(" "),s("div",{staticClass:"play"},[s("i",{staticClass:"van-icon van-icon-play-circle-o",staticStyle:{"font-size":"20px"}}),t._v(" "),s("span",[t._v(" +"+t._s(i.reward_price)+t._s(t.InitData.currency))])])],1)])}),1)],1)],1),t._v(" "),s("Footer")],1)},staticRenderFns:[]};var n=s("VU/8")(a,e,!1,function(t){s("F3TG")},"data-v-f8ae048e",null);i.default=n.exports},F3TG:function(t,i){}});